/*! For license information please see main.20a88e5c.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Qi){var r=Qi}Reflect.construct(e,[],t)}else{try{t.call()}catch(Qi){r=Qi}e.call(t.prototype)}else{try{throw Error()}catch(Qi){r=Qi}e()}}catch(Qi){if(Qi&&r&&"string"===typeof Qi.stack){for(var i=Qi.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case _:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Te(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),ke(e.stateNode,e.type,t))}}function Ie(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ce(){if(Se){var e=Se,t=_e;if(_e=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function xe(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==_e)&&(xe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Pe=!1}function Oe(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,s,a,o,l){Me=!1,Ue=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,kt,St,_t,Tt,It=!1,Ct=[],Nt=null,xt=null,At=null,Rt=new Map,Dt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==xt&&Ft(xt)&&(xt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(jt),Dt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==xt&&zt(xt,e),null!==At&&zt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&Et(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=U({},un,{view:0,detail:0}),dn=sn(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(U({},fn,{dataTransfer:0})),gn=sn(U({},hn,{relatedTarget:0})),vn=sn(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(U({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return _n}var In=U({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(In),Nn=sn(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=sn(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Pn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Mn=c&&"TextEvent"in window&&!On,Un=c&&(!Ln||On&&8<On&&11>=On),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,Ee(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},_r={};function Tr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ir=Tr("animationend"),Cr=Tr("animationiteration"),Nr=Tr("animationstart"),xr=Tr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Lr=Rr[Pr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(xr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,o,u),s=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=Ee(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Ir:case Cr:case Nr:l=vn;break;case xr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&c.push(Kr(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(a,o,l,c,!1),null!==u&&null!==h&&Qr(a,h,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Yn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=De(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=De(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=De(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var ki=[],Si=-1;function _i(e){return{current:e}}function Ti(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ii(e,t){Si++,ki[Si]=e.current,e.current=t}var Ci={},Ni=_i(Ci),xi=_i(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(xi),Ti(Ni)}function Li(e,t,n){if(Ni.current!==Ci)throw Error(s(168));Ii(Ni,t),Ii(xi,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ni.current,Ii(Ni,e),Ii(xi,xi.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(xi),Ti(Ni),Ii(Ni,e)):Ti(xi),Ii(xi,n)}var Fi=null,ji=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=w.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=_i(null),Gi=null,$i=null,Xi=null;function Yi(){Xi=$i=Gi=null}function Ji(e){var t=Wi.current;Ti(Wi),e._currentValue=t}function Zi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function es(e,t){Gi=e,Xi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(To=!0),e.firstContext=null)}function ts(e){var t=e._currentValue;if(Xi!==e)if(e={context:e,memoizedValue:t,next:null},null===$i){if(null===Gi)throw Error(s(308));$i=e,Gi.dependencies={lanes:0,firstContext:e}}else $i=$i.next=e;return t}var rs=null,is=!1;function ss(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function as(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ls(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,au(e)?(null===(e=n.interleaved)?(t.next=t,null===rs?rs=[n]:rs.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hs(e,t,n,r){var i=e.updateQueue;is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ul|=a,e.lanes=a,e.memoizedState=h}}function ds(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var fs=(new r.Component).refs;function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ms={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),s=os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ls(e,s),null!==(t=iu(e,i,r))&&us(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),s=os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ls(e,s),null!==(t=iu(e,i,r))&&us(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nu(),r=ru(e),i=os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ls(e,i),null!==(t=iu(e,r,n))&&us(t,e,r)}};function gs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function vs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=ts(s):(i=Di(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ys(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fs,ss(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ts(s):(s=Di(t)?Ai:Ni.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ps(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ms.enqueueReplaceState(i,i.state,null),hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ws=[],Es=0,ks=null,Ss=0,_s=[],Ts=0,Is=null,Cs=1,Ns="";function xs(e,t){ws[Es++]=Ss,ws[Es++]=ks,ks=e,Ss=t}function As(e,t,n){_s[Ts++]=Cs,_s[Ts++]=Ns,_s[Ts++]=Is,Is=e;var r=Cs;e=Ns;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Cs=1<<32-at(t)+i|n<<i|r,Ns=s+e}else Cs=1<<s|n<<i|r,Ns=e}function Rs(e){null!==e.return&&(xs(e,1),As(e,1,0))}function Ds(e){for(;e===ks;)ks=ws[--Es],ws[Es]=null,Ss=ws[--Es],ws[Es]=null;for(;e===Is;)Is=_s[--Ts],_s[Ts]=null,Ns=_s[--Ts],_s[Ts]=null,Cs=_s[--Ts],_s[Ts]=null}var Ps=null,Ls=null,Os=!1,Ms=null;function Us(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Fs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ps=e,Ls=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ps=e,Ls=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Is?{id:Cs,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ps=e,Ls=null,!0);default:return!1}}function js(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Vs(e){if(Os){var t=Ls;if(t){var n=t;if(!Fs(e,t)){if(js(e))throw Error(s(418));t=ui(n.nextSibling);var r=Ps;t&&Fs(e,t)?Us(r,n):(e.flags=-4097&e.flags|2,Os=!1,Ps=e)}}else{if(js(e))throw Error(s(418));e.flags=-4097&e.flags|2,Os=!1,Ps=e}}}function zs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ps=e}function Bs(e){if(e!==Ps)return!1;if(!Os)return zs(e),Os=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ls)){if(js(e)){for(e=Ls;e;)e=ui(e.nextSibling);throw Error(s(418))}for(;t;)Us(e,t),t=ui(t.nextSibling)}if(zs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ls=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ls=null}}else Ls=Ps?ui(e.stateNode.nextSibling):null;return!0}function qs(){Ls=Ps=null,Os=!1}function Hs(e){null===Ms?Ms=[e]:Ms.push(e)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===fs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gs(e){return(0,e._init)(e._payload)}function Qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Gs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=ju(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case k:return(t=Bu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=ju(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),Os&&xs(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return Os&&xs(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),Os&&xs(i,m),u}function g(i,o,l,u){var c=O(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),Os&&xs(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(o=a(y,o,g),null===h?c=y:h.sibling=y,h=y);return Os&&xs(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),Os&&xs(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&Gs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=Ks(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((s=ju(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=Ks(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bu(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);Ws(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=zu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var $s=Qs(!0),Xs=Qs(!1),Ys={},Js=_i(Ys),Zs=_i(Ys),ea=_i(Ys);function ta(e){if(e===Ys)throw Error(s(174));return e}function na(e,t){switch(Ii(ea,t),Ii(Zs,e),Ii(Js,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Js),Ii(Js,t)}function ra(){Ti(Js),Ti(Zs),Ti(ea)}function ia(e){ta(ea.current);var t=ta(Js.current),n=le(t,e.type);t!==n&&(Ii(Zs,e),Ii(Js,n))}function sa(e){Zs.current===e&&(Ti(Js),Ti(Zs))}var aa=_i(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ca=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,da=0,fa=null,pa=null,ma=null,ga=!1,va=!1,ya=0,ba=0;function wa(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(da=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?so:ao,e=n(r,i),va){a=0;do{if(va=!1,ya=0,25<=a)throw Error(s(301));a+=1,ma=pa=null,t.updateQueue=null,ca.current=oo,e=n(r,i)}while(va)}if(ca.current=io,t=null!==pa&&null!==pa.next,da=0,ma=pa=fa=null,ga=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==ya;return ya=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?fa.memoizedState=ma=e:ma=ma.next=e,ma}function Ta(){if(null===pa){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===ma?fa.memoizedState:ma.next;if(null!==t)ma=t,pa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===ma?fa.memoizedState=ma=e:ma=ma.next=e}return ma}function Ia(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=pa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((da&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,fa.lanes|=h,Ul|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(To=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,fa.lanes|=a,Ul|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(To=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function Aa(e,t){var n=fa,r=Ta(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,To=!0),r=r.queue,za(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ma(9,Da.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&da)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&iu(e,1,-1)}function Pa(e,t,n){return n((function(){La(t)&&iu(e,1,-1)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Oa(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=Za.bind(null,fa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ta().memoizedState}function Fa(e,t,n,r){var i=_a();fa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==pa){var a=pa.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ma(t,n,s,r))}fa.flags|=e,i.memoizedState=Ma(1|t,n,s,r)}function Va(e,t){return Fa(8390656,8,e,t)}function za(e,t){return ja(2048,8,e,t)}function Ba(e,t){return ja(4,2,e,t)}function qa(e,t){return ja(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Ha.bind(null,t,e),n)}function Wa(){}function Ga(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&da)?(e.baseState&&(e.baseState=!1,To=!0),e.memoizedState=n):(or(n,t)||(n=mt(),fa.lanes|=n,Ul|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function Ya(){return Ta().memoizedState}function Ja(e,t,n){var r=ru(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eo(e)?to(t,n):(no(e,t,n),null!==(e=iu(e,r,n=nu()))&&ro(e,t,r))}function Za(e,t,n){var r=ru(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eo(e))to(t,i);else{no(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a))return}catch(Hi){}null!==(e=iu(e,r,n=nu()))&&ro(e,t,r)}}function eo(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function to(e,t){va=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function no(e,t,n){au(e)?(null===(e=t.interleaved)?(n.next=n,null===rs?rs=[t]:rs.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ro(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var io={readContext:ts,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},so={readContext:ts,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:ts,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,fa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Oa,useDebugValue:Wa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Xa.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fa,i=_a();if(Os){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&da)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Al.identifierPrefix;if(Os){var n=Ns;t=":"+t+"R"+(n=(Cs&~(1<<32-at(Cs)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ao={readContext:ts,useCallback:Ga,useContext:ts,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ba,useLayoutEffect:qa,useMemo:Qa,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Ia)},useDebugValue:Wa,useDeferredValue:function(e){return $a(Ta(),pa.memoizedState,e)},useTransition:function(){return[Ca(Ia)[0],Ta().memoizedState]},useMutableSource:xa,useSyncExternalStore:Aa,useId:Ya,unstable_isNewReconciler:!1},oo={readContext:ts,useCallback:Ga,useContext:ts,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ba,useLayoutEffect:qa,useMemo:Qa,useReducer:Na,useRef:Ua,useState:function(){return Na(Ia)},useDebugValue:Wa,useDeferredValue:function(e){var t=Ta();return null===pa?t.memoizedState=e:$a(t,pa.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],Ta().memoizedState]},useMutableSource:xa,useSyncExternalStore:Aa,useId:Ya,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var co,ho,fo,po,mo="function"===typeof WeakMap?WeakMap:Map;function go(e,t,n){(n=os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Wl=r),uo(0,t)},n}function vo(e,t,n){(n=os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function bo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function wo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=os(-1,1)).tag=2,ls(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Eo(e,t){if(!Os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function So(e,t,n){var r=t.pendingProps;switch(Ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ko(t),null;case 1:case 17:return Di(t.type)&&Pi(),ko(t),null;case 3:return r=t.stateNode,ra(),Ti(xi),Ti(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ms&&(cu(Ms),Ms=null))),ho(e,t),ko(t),null;case 5:sa(t);var i=ta(ea.current);if(n=t.type,null!==e&&null!=t.stateNode)fo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ko(t),null}if(e=ta(Js.current),Bs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,co(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ko(t),null;case 6:if(e&&null!=t.stateNode)po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ta(ea.current),ta(Js.current),Bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=Ps))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return ko(t),null;case 13:if(Ti(aa),r=t.memoizedState,Os&&null!==Ls&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ls;r;)r=ui(r.nextSibling);return qs(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Bs(t),null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[di]=t}else qs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ko(t),null}return null!==Ms&&(cu(Ms),Ms=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Bs(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&aa.current)?0===Ol&&(Ol=3):bu())),null!==t.updateQueue&&(t.flags|=4),ko(t),null);case 4:return ra(),ho(e,t),null===e&&Br(t.stateNode.containerInfo),ko(t),null;case 10:return Ji(t.type._context),ko(t),null;case 19:if(Ti(aa),null===(a=t.memoizedState))return ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Eo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oa(e))){for(t.flags|=128,Eo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(aa,1&aa.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>ql&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Eo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Os)return ko(t),null}else 2*Ye()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=aa.current,Ii(aa,r?1&n|2:1&n),t):(ko(t),null);case 22:case 23:return mu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(ko(t),6&t.subtreeFlags&&(t.flags|=8192)):ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}co=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ho=function(){},fo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ta(Js.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},po=function(e,t,n,r){n!==r&&(t.flags|=4)};var _o=w.ReactCurrentOwner,To=!1;function Io(e,t,n,r){t.child=null===e?Xs(t,null,n,r):$s(t,e.child,n,r)}function Co(e,t,n,r,i){n=n.render;var s=t.ref;return es(t,i),r=ka(e,t,n,r,s,i),n=Sa(),null===e||To?(Os&&n&&Rs(t),t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(To=!0)}}return Do(e,t,n,r,i)}function Ao(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ll,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ll,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Ll,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Ll,Pl),Pl|=r;return Io(e,t,i,n),t.child}function Ro(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,i){var s=Di(n)?Ai:Ni.current;return s=Ri(t,s),es(t,i),n=ka(e,t,n,r,s,i),r=Sa(),null===e||To?(Os&&r&&Rs(t),t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Po(e,t,n,r,i){if(Di(n)){var s=!0;Mi(t)}else s=!1;if(es(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vs(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ts(u):u=Ri(t,u=Di(n)?Ai:Ni.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ys(t,a,r,u),is=!1;var d=t.memoizedState;a.state=d,hs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||xi.current||is?("function"===typeof c&&(ps(t,n,c,r),l=t.memoizedState),(o=is||gs(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,as(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ki(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ts(l):l=Ri(t,l=Di(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ys(t,a,r,l),is=!1,d=t.memoizedState,a.state=d,hs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||xi.current||is?("function"===typeof f&&(ps(t,n,f,r),p=t.memoizedState),(u=is||gs(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,s,i)}function Lo(e,t,n,r,i,s){Ro(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),Qo(e,t,s);r=t.stateNode,_o.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,o,s)):Io(e,t,o,s),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),na(e,t.containerInfo)}function Mo(e,t,n,r,i){return qs(),Hs(i),t.flags|=256,Io(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Vo(e,t,n){var r,i=t.pendingProps,a=aa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(aa,1&a),null===e)return Vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Vu(a,i,0,null),e=ju(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Uo,e):zo(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Ho(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Vu({mode:"visible",children:i.children},a,0,null),(o=ju(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&$s(t,e.child,null,n),t.child.memoizedState=Fo(n),t.memoizedState=Uo,o);if(0===(1&t.mode))t=Ho(e,t,n,null);else if("$!"===r.data)t=Ho(e,t,n,Error(s(419)));else if(i=0!==(n&e.childLanes),To||i){if(null!==(i=Al)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,iu(e,i,-1))}bu(),t=Ho(e,t,n,Error(s(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ls=ui(r.nextSibling),Ps=t,Os=!0,Ms=null,null!==n&&(_s[Ts++]=Cs,_s[Ts++]=Ns,_s[Ts++]=Is,Cs=n.id,Ns=n.overflow,Is=t),(t=zo(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=qo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Fo(n):jo(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i):(n=Bo(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=qo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Fo(n):jo(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i):(n=Bo(e,t,i.children,n),t.memoizedState=null,n)}function zo(e,t){return(t=Vu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){var i=e.child;return e=i.sibling,n=Uu(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function qo(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0===(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Uu(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Uu(a,r):(r=ju(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ho(e,t,n,r){return null!==r&&Hs(r),$s(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Zi(e.return,t,n)}function Wo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=aa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(aa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(Ds(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),Ti(xi),Ti(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(aa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));qs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(aa),null;case 4:return ra(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return mu(),null;default:return null}}var Xo=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Nu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Yo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nu(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,fl(e,t,n),Yo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Du.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(Qi){Nu(i,t,Qi)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Nu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Nu(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Nu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Nu(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(m){Nu(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Nu(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Bl=Ye()),4&r&&ml(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(h=Yo)||c,gl(t,e),Yo=h):gl(t,e),yl(e),8192&r){h=null!==e.memoizedState;e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,h?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(m){Nu(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(m){Nu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}if(h&&!c&&0!==(1&e.mode))for(Zo=e,e=e.child;null!==e;){for(c=Zo=e;null!==Zo;){switch(d=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:if(el(h,h.return),"function"===typeof(a=h.stateNode).componentWillUnmount){f=h,p=h.return;try{i=f,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){Nu(f,p,m)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){kl(c);continue}}null!==d?(d.return=h,Zo=d):kl(c)}e=e.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(s(161))}}catch(Hi){Nu(e,e.return,Hi)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Xo;var u=Yo;if(Xo=a,(Yo=l)&&!u)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Zo=l):Sl(i);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=i,Xo=o,Yo=u}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):El(e)}}function El(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ds(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ds(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&sl(t)}catch(ns){Nu(t,t.return,ns)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(Hi){Nu(t,n,Hi)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Hi){Nu(t,i,Hi)}}var s=t.return;try{sl(t)}catch(Hi){Nu(t,s,Hi)}break;case 5:var a=t.return;try{sl(t)}catch(Hi){Nu(t,a,Hi)}}}catch(Hi){Nu(t,t.return,Hi)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var _l,Tl=Math.ceil,Il=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,xl=0,Al=null,Rl=null,Dl=0,Pl=0,Ll=_i(0),Ol=0,Ml=null,Ul=0,Fl=0,jl=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Kl=!1,Wl=null,Ql=null,$l=!1,Xl=null,Yl=0,Jl=0,Zl=null,eu=-1,tu=0;function nu(){return 0!==(6&xl)?Ye():-1!==eu?eu:eu=Ye()}function ru(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Dl?Dl&-Dl:null!==qi.transition?(0===tu&&(tu=mt()),tu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function iu(e,t,n){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));var r=su(e,t);return null===r?null:(vt(r,t,n),0!==(2&xl)&&r===Al||(r===Al&&(0===(2&xl)&&(Fl|=t),4===Ol&&hu(r,Dl)),ou(r,n),1===t&&0===xl&&0===(1&e.mode)&&(ql=Ye()+500,ji&&Bi())),r)}function su(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function au(e){return(null!==Al||null!==rs)&&0!==(1&e.mode)&&0===(2&xl)}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(du.bind(null,e)):zi(du.bind(null,e)),ai((function(){0===xl&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lu(e,t){if(eu=-1,tu=0,0!==(6&xl))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=wu(e,r);else{t=r;var i=xl;xl|=2;var a=yu();for(Al===e&&Dl===t||(Hl=null,ql=Ye()+500,gu(e,t));;)try{ku();break}catch(l){vu(e,l)}Yi(),Il.current=a,xl=i,null!==Rl?t=0:(Al=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uu(e,i))),1===t)throw n=Ml,gu(e,0),hu(e,r),ou(e,Ye()),n;if(6===t)hu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=wu(e,r))&&(0!==(a=pt(e))&&(r=a,t=uu(e,a))),1===t))throw n=Ml,gu(e,0),hu(e,r),ou(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Tu(e,zl,Hl);break;case 3:if(hu(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Tu.bind(null,e,zl,Hl),t);break}Tu(e,zl,Hl);break;case 4:if(hu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Tu.bind(null,e,zl,Hl),r);break}Tu(e,zl,Hl);break;default:throw Error(s(329))}}}return ou(e,Ye()),e.callbackNode===n?lu.bind(null,e):null}function uu(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(gu(e,t).flags|=256),2!==(e=wu(e,t))&&(t=zl,zl=n,null!==t&&cu(t)),e}function cu(e){null===zl?zl=e:zl.push.apply(zl,e)}function hu(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!==(6&xl))throw Error(s(327));Iu();var t=dt(e,0);if(0===(1&t))return ou(e,Ye()),null;var n=wu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uu(e,r))}if(1===n)throw n=Ml,gu(e,0),hu(e,t),ou(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e,zl,Hl),ou(e,Ye()),null}function fu(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(ql=Ye()+500,ji&&Bi())}}function pu(e){null!==Xl&&0===Xl.tag&&0===(6&xl)&&Iu();var t=xl;xl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(xl=t))&&Bi()}}function mu(){Pl=Ll.current,Ti(Ll)}function gu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(Ds(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ra(),Ti(xi),Ti(Ni),ua();break;case 5:sa(r);break;case 4:ra();break;case 13:case 19:Ti(aa);break;case 10:Ji(r.type._context);break;case 22:case 23:mu()}n=n.return}if(Al=e,Rl=e=Uu(e.current,null),Dl=Pl=t,Ol=0,Ml=null,jl=Fl=Ul=0,zl=Vl=null,null!==rs){for(t=0;t<rs.length;t++)if(null!==(r=(n=rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}rs=null}return e}function vu(e,t){for(;;){var n=Rl;try{if(Yi(),ca.current=io,ga){for(var r=fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(da=0,ma=pa=fa=null,va=!1,ya=0,Cl.current=null,null===n||null===n.return){Ol=1,Ml=t,Rl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=bo(o);if(null!==p){p.flags&=-257,wo(p,o,l,0,t),1&p.mode&&yo(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){yo(a,c,t),bu();break e}u=Error(s(426))}else if(Os&&1&l.mode){var v=bo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),wo(v,o,l,0,t),Hs(u);break e}}a=u,4!==Ol&&(Ol=2),null===Vl?Vl=[a]:Vl.push(a),u=lo(u,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,cs(l,go(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,cs(l,vo(l,a,t));break e}}l=l.return}while(null!==l)}_u(n)}catch(Gl){t=Gl,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function yu(){var e=Il.current;return Il.current=io,null===e?io:e}function bu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||hu(Al,Dl)}function wu(e,t){var n=xl;xl|=2;var r=yu();for(Al===e&&Dl===t||(Hl=null,gu(e,t));;)try{Eu();break}catch(i){vu(e,i)}if(Yi(),xl=n,Il.current=r,null!==Rl)throw Error(s(261));return Al=null,Dl=0,Ol}function Eu(){for(;null!==Rl;)Su(Rl)}function ku(){for(;null!==Rl&&!$e();)Su(Rl)}function Su(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_u(e):Rl=t,Cl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=So(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Tu(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{Iu()}while(null!==Xl);if(0!==(6&xl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Rl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pu(tt,(function(){return Iu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=bt;bt=1;var l=xl;xl|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Gl){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ki(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var E=w.body;null!=E&&(E.textContent="")}break;default:throw Error(s(163))}}catch(Gl){Nu(t,t.return,Gl)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),xl=l,bt=o,Nl.transition=a}else e.current=n;if($l&&($l=!1,Xl=e,Yl=i),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ou(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Kl)throw Kl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Iu(),a=e.pendingLanes,0!==(1&a)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Bi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function Iu(){if(null!==Xl){var e=wt(Yl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&xl))throw Error(s(331));var i=xl;for(xl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zo=c;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(al(h),h===c){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(Gl){Nu(l,l.return,Gl)}if(l===o){Zo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Zo=E;break e}Zo=l.return}}if(xl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Gl){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function Cu(e,t,n){ls(e,t=go(0,t=lo(n,t),1)),t=nu(),null!==(e=su(e,1))&&(vt(e,1,t),ou(e,t))}function Nu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){ls(t,e=vo(t,e=lo(n,e),1)),e=nu(),null!==(t=su(t,1))&&(vt(t,1,e),ou(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>Ye()-Bl?gu(e,0):jl|=n),ou(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=nu();null!==(e=su(e,t))&&(vt(e,t,n),ou(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Du(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Au(e,n)}function Pu(e,t){return Ge(e,t)}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Lu(e,t,n,r)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Mu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return ju(n.children,i,a,t);case _:o=8,i|=8;break;case T:return(e=Ou(12,n,t,2|i)).elementType=T,e.lanes=a,e;case x:return(e=Ou(13,n,t,i)).elementType=x,e.lanes=a,e;case A:return(e=Ou(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return Vu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case C:o=9;break e;case N:o=11;break e;case R:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ju(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Vu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function zu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,r,i,s,a,o,l){return e=new qu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ss(s),e}function Ku(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function Wu(e,t,n,r,i,s,a,o,l){return(e=Hu(n,r,!0,e,0,s,0,o,l)).context=Ku(null),n=e.current,(s=os(r=nu(),i=ru(n))).callback=void 0!==t&&null!==t?t:null,ls(n,s),e.current.lanes=i,vt(e,i,r),ou(e,r),e}function Gu(e,t,n,r){var i=t.current,s=nu(),a=ru(i);return n=Ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=os(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ls(i,t),null!==(e=iu(i,a,s))&&us(e,i,a),a}function Qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)To=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),qs();break;case 5:ia(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(aa,1&aa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(Ii(aa,1&aa.current),null!==(e=Qo(e,t,n))?e.sibling:null);Ii(aa,1&aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(aa,aa.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return Qo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,Os&&0!==(1048576&t.flags)&&As(t,Ss,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ni.current);es(t,n),i=ka(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ss(t),i.updater=ms,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Lo(null,t,r,!0,a,n)):(t.tag=0,Os&&a&&Rs(t),Io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Po(null,t,r,e,n);break e;case 11:t=Co(null,t,r,e,n);break e;case 14:t=No(null,t,r,Ki(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Oo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,as(e,t),hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,r,n,i=Error(s(423)));break e}if(r!==i){t=Mo(e,t,r,n,i=Error(s(424)));break e}for(Ls=ui(t.stateNode.containerInfo.firstChild),Ps=t,Os=!0,Ms=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(qs(),r===i){t=Qo(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return ia(t),null===e&&Vs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Ro(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&Vs(t),null;case 13:return Vo(e,t,n);case 4:return na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ii(Wi,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!xi.current){t=Qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=os(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Zi(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Zi(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,es(t,n),r=r(i=ts(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),No(e,t,r,i=Ki(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,es(t,n),vs(t,r,i),bs(t,r,i,n),Lo(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return Ao(e,t,n)}throw Error(s(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function ec(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(){}function rc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Qu(a);o.call(e)}}Gu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Qu(a);s.call(e)}}var a=Wu(t,r,e,0,null,!1,0,"",nc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),pu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Qu(l);o.call(e)}}var l=Hu(e,0,!1,null,0,!1,0,"",nc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),pu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return Qu(a)}Zu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gu(e,t,null,null)},Zu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pu((function(){Gu(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ut(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ou(t,Ye()),0===(6&xl)&&(ql=Ye()+500,Bi()))}break;case 13:var r=nu();pu((function(){return iu(e,1,r)})),Xu(e,1)}},kt=function(e){13===e.tag&&(iu(e,134217728,nu()),Xu(e,134217728))},St=function(e){if(13===e.tag){var t=nu(),n=ru(e);iu(e,n,t),Xu(e,n)}},_t=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=fu,xe=pu;var ic={usingClientEntryPoint:!1,Events:[bi,wi,Ei,Ie,Ce,fu]},sc={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},ac={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{it=oc.inject(ac),st=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ec(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ec(e))throw Error(s(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return pu(e)},t.hydrate=function(e,t,n){if(!tc(t))throw Error(s(200));return rc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ec(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!tc(t))throw Error(s(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tc(e))throw Error(s(40));return!!e._reactRootContainer&&(pu((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=fu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return rc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),x(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+N(o=e[u],u);l+=x(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=x(o=o.value,t,i,c=s+N(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,P(k);else{var t=r(c);null!==t&&L(E,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!x());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,T=null,I=-1,C=5,N=-1;function x(){return!(t.unstable_now()-N<C)}function A(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?S():(_=!1,T=null)}}else _=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){v(A,0)};function P(e){T=e,_||(_=!0,S())}function L(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(I),I=-1):g=!0,L(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,P(k))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/service-desk/";var r,i=n(43),s=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var o=function(e){return e};var l="beforeunload",u="popstate";function c(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function f(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,s=e.hash,a=void 0===s?"":s;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const m=(0,i.createContext)(null);const g=(0,i.createContext)(null);const v=(0,i.createContext)({outlet:null,matches:[]});function y(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=x(i[a],r);return s}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||y(!1),s.relativePath=s.relativePath.slice(r.length));let a=P([r,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&y(!1),w(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:o})})),t}const E=/^:\w+$/,k=3,S=2,_=1,T=10,I=-2,C=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=I),t&&(r+=S),n.filter((e=>!C(e))).reduce(((e,t)=>e+(E.test(t)?k:""===t?_:T)),r)}function x(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:P([i,u.pathname]),pathnameBase:L(P([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=P([i,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(o[n]||""),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function R(e,t,n){let r,i="string"===typeof e?p(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:O(r),hash:M(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function U(e){F()||y(!1);let{basename:t,navigator:n}=(0,i.useContext)(m),{hash:r,pathname:s,search:a}=B(e),o=s;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");o="/"===s?t+(r?"/":""):P([t,s])}return n.createHref({pathname:o,search:a,hash:r})}function F(){return null!=(0,i.useContext)(g)}function j(){return F()||y(!1),(0,i.useContext)(g).location}function V(){F()||y(!1);let{basename:e,navigator:t}=(0,i.useContext)(m),{matches:n}=(0,i.useContext)(v),{pathname:r}=j(),s=JSON.stringify(n.map((e=>e.pathnameBase))),a=(0,i.useRef)(!1);(0,i.useEffect)((()=>{a.current=!0}));let o=(0,i.useCallback)((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void t.go(n);let o=R(n,JSON.parse(s),r);"/"!==e&&(o.pathname=P([e,o.pathname])),(i.replace?t.replace:t.push)(o,i.state)}),[e,t,s,r]);return o}const z=(0,i.createContext)(null);function B(e){let{matches:t}=(0,i.useContext)(v),{pathname:n}=j(),r=JSON.stringify(t.map((e=>e.pathnameBase)));return(0,i.useMemo)((()=>R(e,JSON.parse(r),n)),[e,r,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,r,s)=>(0,i.createElement)(v.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,s+1))}})),null)}function H(e){let{to:t,replace:n,state:r}=e;F()||y(!1);let s=V();return(0,i.useEffect)((()=>{s(t,{replace:n,state:r})})),null}function K(e){return function(e){let t=(0,i.useContext)(v).outlet;return t?(0,i.createElement)(z.Provider,{value:e},t):t}(e.context)}function W(e){y(!1)}function G(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1}=e;F()&&y(!1);let u=L(t),c=(0,i.useMemo)((()=>({basename:u,navigator:o,static:l})),[u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:d="",hash:f="",state:v=null,key:b="default"}=s,w=(0,i.useMemo)((()=>{let e=D(h,u);return null==e?null:{pathname:e,search:d,hash:f,state:v,key:b}}),[u,h,d,f,v,b]);return null==w?null:(0,i.createElement)(m.Provider,{value:c},(0,i.createElement)(g.Provider,{children:n,value:{location:w,navigationType:a}}))}function Q(e){let{children:t,location:n}=e;return function(e,t){F()||y(!1);let{matches:n}=(0,i.useContext)(v),r=n[n.length-1],s=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;let o,l=j();if(t){var u;let e="string"===typeof t?p(t):t;"/"===a||(null==(u=e.pathname)?void 0:u.startsWith(a))||y(!1),o=e}else o=l;let c=o.pathname||"/",h=b(e,{pathname:"/"===a?c:c.slice(a.length)||"/"});return q(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:P([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:P([a,e.pathnameBase])}))),n)}($(t),n)}function $(e){let t=[];return i.Children.forEach(e,(e=>{if(!(0,i.isValidElement)(e))return;if(e.type===i.Fragment)return void t.push.apply(t,$(e.props.children));e.type!==W&&y(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=$(e.props.children)),t.push(n)})),t}function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const J=["onClick","reloadDocument","replace","state","target","to"],Z=["aria-current","caseSensitive","className","end","style","to","children"];function ee(e){let{basename:t,children:n,window:s}=e,m=(0,i.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,i=n.history;function s(){var e=n.location,t=e.pathname,r=e.search,s=e.hash,a=i.state||{};return[a.idx,o({pathname:t,search:r,hash:s,state:a.usr||null,key:a.key||"default"})]}var m=null;n.addEventListener(u,(function(){if(m)E.call(m),m=null;else{var e=r.Pop,t=s(),n=t[0],i=t[1];if(E.length){if(null!=n){var a=y-n;a&&(m={action:e,location:i,retry:function(){C(-1*a)}},C(a))}}else I(e)}}));var g=r.Pop,v=s(),y=v[0],b=v[1],w=h(),E=h();function k(e){return"string"===typeof e?e:f(e)}function S(e,t){return void 0===t&&(t=null),o(a({pathname:b.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:d()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},k(e)]}function T(e,t,n){return!E.length||(E.call({action:e,location:t,retry:n}),!1)}function I(e){g=e;var t=s();y=t[0],b=t[1],w.call({action:g,location:b})}function C(e){i.go(e)}null==y&&(y=0,i.replaceState(a({},i.state,{idx:y}),""));var N={get action(){return g},get location(){return b},createHref:k,push:function e(t,s){var a=r.Push,o=S(t,s);if(T(a,o,(function(){e(t,s)}))){var l=_(o,y+1),u=l[0],c=l[1];try{i.pushState(u,"",c)}catch(h){n.location.assign(c)}I(a)}},replace:function e(t,n){var s=r.Replace,a=S(t,n);if(T(s,a,(function(){e(t,n)}))){var o=_(a,y),l=o[0],u=o[1];i.replaceState(l,"",u),I(s)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&n.addEventListener(l,c),function(){t(),E.length||n.removeEventListener(l,c)}}};return N}({window:s}));let g=m.current,[v,y]=(0,i.useState)({action:g.action,location:g.location});return(0,i.useLayoutEffect)((()=>g.listen(y)),[g]),(0,i.createElement)(G,{basename:t,children:n,location:v.location,navigationType:v.action,navigator:g})}const te=(0,i.forwardRef)((function(e,t){let{onClick:n,reloadDocument:r,replace:s=!1,state:a,target:o,to:l}=e,u=Y(e,J),c=U(l),h=function(e,t){let{target:n,replace:r,state:s}=void 0===t?{}:t,a=V(),o=j(),l=B(e);return(0,i.useCallback)((t=>{if(0===t.button&&(!n||"_self"===n)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();let n=!!r||f(o)===f(l);a(e,{replace:n,state:s})}}),[o,a,l,r,s,n,e])}(l,{replace:s,state:a,target:o});return(0,i.createElement)("a",X({},u,{href:c,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:o}))}));const ne=(0,i.forwardRef)((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,children:u}=e,c=Y(e,Z),h=j(),d=B(l),f=h.pathname,p=d.pathname;r||(f=f.toLowerCase(),p=p.toLowerCase());let m,g=f===p||!a&&f.startsWith(p)&&"/"===f.charAt(p.length),v=g?n:void 0;m="function"===typeof s?s({isActive:g}):[s,g?"active":null].filter(Boolean).join(" ");let y="function"===typeof o?o({isActive:g}):o;return(0,i.createElement)(te,X({},c,{"aria-current":v,className:m,ref:t,style:y,to:l}),"function"===typeof u?u({isActive:g}):u)}));const re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},se=function(e){return function(e){const t=re(e);return ie.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ae=function(e){try{return ie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function le(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ue(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function ce(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function he(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function de(){const e=le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fe(){return"object"===typeof indexedDB}class pe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ge,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new pe(n,s,t)}}const ge=/\{\$([^}]+)}/g;function ve(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ye(n)&&ye(s)){if(!ve(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ye(e){return null!==e&&"object"===typeof e}function be(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function we(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ee(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ke{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Se),void 0===r.error&&(r.error=Se),void 0===r.complete&&(r.complete=Se);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Se(){}function _e(e){return e&&e._delegate?e._delegate:e}class Te{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ie="[DEFAULT]";class Ce{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new oe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(em){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ie?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(em){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return this.component?this.component.multipleInstances?e:Ie:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xe=[];var Ae;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ae||(Ae={}));const Re={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},De=Ae.INFO,Pe={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Le=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Pe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Oe{constructor(e){this.name=e,this._logLevel=De,this._logHandler=Le,this._userLogHandler=null,xe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Re[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const Me=(e,t)=>t.some((t=>e instanceof t));let Ue,Fe;const je=new WeakMap,Ve=new WeakMap,ze=new WeakMap,Be=new WeakMap,qe=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ve.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ze.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ge(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ke(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qe(this),n),Ge(je.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(e.apply(Qe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Qe(this),t,...r);return ze.set(s,t.sort?t.sort():[t]),Ge(s)}}function We(e){return"function"===typeof e?Ke(e):(e instanceof IDBTransaction&&function(e){if(Ve.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ve.set(e,t)}(e),Me(e,Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e)}function Ge(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ge(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&je.set(t,e)})).catch((()=>{})),qe.set(t,e),t}(e);if(Be.has(e))return Be.get(e);const t=We(e);return t!==e&&(Be.set(e,t),qe.set(t,e)),t}const Qe=e=>qe.get(e);const $e=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Ye=new Map;function Je(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Xe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$e.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ye.set(t,s),s}He=(e=>({...e,get:(t,n,r)=>Je(t,n)||e.get(t,n,r),has:(t,n)=>!!Je(t,n)||e.has(t,n)}))(He);class Ze{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const et="@firebase/app",tt="0.7.25",nt=new Oe("@firebase/app"),rt="@firebase/app-compat",it="@firebase/analytics-compat",st="@firebase/analytics",at="@firebase/app-check-compat",ot="@firebase/app-check",lt="@firebase/auth",ut="@firebase/auth-compat",ct="@firebase/database",ht="@firebase/database-compat",dt="@firebase/functions",ft="@firebase/functions-compat",pt="@firebase/installations",mt="@firebase/installations-compat",gt="@firebase/messaging",vt="@firebase/messaging-compat",yt="@firebase/performance",bt="@firebase/performance-compat",wt="@firebase/remote-config",Et="@firebase/remote-config-compat",kt="@firebase/storage",St="@firebase/storage-compat",_t="@firebase/firestore",Tt="@firebase/firestore-compat",It="firebase",Ct="[DEFAULT]",Nt={[et]:"fire-core",[rt]:"fire-core-compat",[st]:"fire-analytics",[it]:"fire-analytics-compat",[ot]:"fire-app-check",[at]:"fire-app-check-compat",[lt]:"fire-auth",[ut]:"fire-auth-compat",[ct]:"fire-rtdb",[ht]:"fire-rtdb-compat",[dt]:"fire-fn",[ft]:"fire-fn-compat",[pt]:"fire-iid",[mt]:"fire-iid-compat",[gt]:"fire-fcm",[vt]:"fire-fcm-compat",[yt]:"fire-perf",[bt]:"fire-perf-compat",[wt]:"fire-rc",[Et]:"fire-rc-compat",[kt]:"fire-gcs",[St]:"fire-gcs-compat",[_t]:"fire-fst",[Tt]:"fire-fst-compat","fire-js":"fire-js",[It]:"fire-js-all"},xt=new Map,At=new Map;function Rt(e,t){try{e.container.addComponent(t)}catch(n){nt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dt(e){const t=e.name;if(At.has(t))return nt.debug("There were multiple attempts to register component ".concat(t,".")),!1;At.set(t,e);for(const n of xt.values())Rt(n,e);return!0}function Pt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Lt=new me("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ot{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Te("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Mt="9.8.2";function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;const t=xt.get(e);if(!t)throw Lt.create("no-app",{appName:e});return t}function Ft(e,t,n){var r;let i=null!==(r=Nt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nt.warn(e.join(" "))}Dt(new Te("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const jt="firebase-heartbeat-database",Vt=1,zt="firebase-heartbeat-store";let Bt=null;function qt(){return Bt||(Bt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ge(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Ge(a.result),e.oldVersion,e.newVersion,Ge(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}(jt,Vt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(zt)}}).catch((e=>{throw Lt.create("storage-open",{originalErrorMessage:e.message})}))),Bt}async function Ht(e,t){try{const n=(await qt()).transaction(zt,"readwrite"),r=n.objectStore(zt);return await r.put(t,Kt(e)),n.done}catch(n){throw Lt.create("storage-set",{originalErrorMessage:n.message})}}function Kt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Gt(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),$t(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$t(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=se(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Gt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!fe()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{return(await qt()).transaction(zt).objectStore(zt).get(Kt(e))}catch(t){throw Lt.create("storage-get",{originalErrorMessage:t.message})}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $t(e){return se(JSON.stringify({version:2,heartbeats:e})).length}var Xt;Xt="",Dt(new Te("platform-logger",(e=>new Ze(e)),"PRIVATE")),Dt(new Te("heartbeat",(e=>new Wt(e)),"PRIVATE")),Ft(et,tt,Xt),Ft(et,tt,"esm2017"),Ft("fire-js","");function Yt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Jt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zt=Jt,en=new me("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tn=new Oe("@firebase/auth");function nn(e){if(tn.logLevel<=Ae.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tn.error("Auth (".concat(Mt,"): ").concat(e),...n)}}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw on(e,...n)}function sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return on(e,...n)}function an(e,t,n){const r=Object.assign(Object.assign({},Zt()),{[t]:n});return new me("auth","Firebase",r).create(t,{appName:e.name})}function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return en.create(e,...n)}function ln(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw on(t,...r)}}function un(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nn(t),new Error(t)}function cn(e,t){e||un(t)}const hn=new Map;function dn(e){cn(e instanceof Function,"Expected a class definition");let t=hn.get(e);return t?(cn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hn.set(e,t),t)}function fn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pn(){return"http:"===mn()||"https:"===mn()}function mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class gn{constructor(e,t){this.shortDelay=e,this.longDelay=t,cn(t>e,"Short delay should be less than long delay!"),this.isMobile=ue()||he()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pn()||ce()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vn(e,t){cn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class yn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wn=new gn(3e4,6e4);function En(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kn(e,t,n,r){return Sn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=be(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),yn.fetch()(Tn(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Sn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bn),t);try{const t=new In(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Cn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Cn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Cn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Cn(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw an(e,o,a);rn(e,o)}}catch(i){if(i instanceof pe)throw i;rn(e,"network-request-failed")}}async function _n(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await kn(e,t,n,r,i);return"mfaPendingCredential"in s&&rn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Tn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class In{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(sn(this.auth,"network-request-failed"))),wn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sn(e,t,r);return i.customData._tokenResponse=n,i}function Nn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function xn(e){return 1e3*Number(e)}function An(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ae(n);return e?JSON.parse(e):(nn("Failed to decode base64 JWT payload"),null)}catch(i){return nn("Caught error parsing JWT payload as JSON",i),null}}async function Rn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof pe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Dn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void(e.code==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Pn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ln(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Rn(e,async function(e,t){return kn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ln(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Yt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,u=a,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class On{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ln(e.idToken,"internal-error"),ln("undefined"!==typeof e.idToken,"internal-error"),ln("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=An(e);return ln(t,"internal-error"),ln("undefined"!==typeof t.exp,"internal-error"),ln("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ln(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Sn(e,{},(async()=>{const n=be({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Tn(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new On;return n&&(ln("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ln("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ln("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new On,this.toJSON())}_performRefresh(){return un("not implemented")}}function Mn(e,t){ln("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Un{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Yt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Rn(this,this.stsTokenManager.getToken(this.auth,e));return ln(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_e(e),r=await n.getIdToken(t),i=An(r);ln(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nn(xn(i.auth_time)),issuedAtTime:Nn(xn(i.iat)),expirationTime:Nn(xn(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=_e(e);await Ln(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ln(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ln(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ln(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rn(this,async function(e,t){return kn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:k}=t;ln(y&&k,e,"internal-error");const S=On.fromJSON(this.name,k);ln("string"===typeof y,e,"internal-error"),Mn(c,e.name),Mn(h,e.name),ln("boolean"===typeof b,e,"internal-error"),ln("boolean"===typeof w,e,"internal-error"),Mn(d,e.name),Mn(f,e.name),Mn(p,e.name),Mn(m,e.name),Mn(g,e.name),Mn(v,e.name);const _=new Un({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(_.providerData=E.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new On;r.updateFromServerResponse(t);const i=new Un({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ln(i),i}}class Fn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fn.type="NONE";const jn=Fn;function Vn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class zn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Vn(this.userKey,r.apiKey,i),this.fullPersistenceKey=Vn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Un._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zn(dn(jn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||dn(jn);const s=Vn(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Un._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(em){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(em){}}))),new zn(i,e,n)):new zn(i,e,n)}}function Bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qn(t))return"Blackberry";if($n(t))return"Webos";if(Hn(t))return"Safari";if((t.includes("chrome/")||Kn(t))&&!t.includes("edge/"))return"Chrome";if(Gn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/firefox\//i.test(e)}function Hn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:le()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/crios\//i.test(e)}function Wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/iemobile/i.test(e)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/android/i.test(e)}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/blackberry/i.test(e)}function $n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/webos/i.test(e)}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return/iphone|ipad|ipod/i.test(e)}function Yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();return Xn(e)||Gn(e)||$n(e)||Qn(e)||/windows phone/i.test(e)||Wn(e)}function Jn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bn(le());break;case"Worker":t="".concat(Bn(le()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mt,"/").concat(r)}class Zn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n.message})}}}class er{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nr(this),this.idTokenSubscription=new nr(this),this.beforeStateQueue=new Zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=en,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await zn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ln(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ln(e)}catch(t){if(t.code!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?_e(e):null;return t&&ln(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ln(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(dn(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new me("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dn(e)||this._popupRedirectResolver;ln(t,this,"argument-error"),this.redirectPersistenceManager=await zn.create(this,[dn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ln(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ln(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function tr(e){return _e(e)}class nr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ke(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return ln(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class rr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return un("not implemented")}_getIdTokenResponse(e){return un("not implemented")}_linkToIdToken(e,t){return un("not implemented")}_getReauthenticationResolver(e){return un("not implemented")}}async function ir(e,t){return kn(e,"POST","/v1/accounts:update",t)}class sr extends rr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new sr(e,t,"password")}static _fromEmailAndCode(e,t){return new sr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return _n(e,"POST","/v1/accounts:signInWithPassword",En(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _n(e,"POST","/v1/accounts:signInWithEmailLink",En(e,t))}(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ir(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _n(e,"POST","/v1/accounts:signInWithEmailLink",En(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ar(e,t){return _n(e,"POST","/v1/accounts:signInWithIdp",En(e,t))}class or extends rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Yt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new or(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ar(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ar(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ar(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=be(t)}return e}}const lr={USER_NOT_FOUND:"user-not-found"};class ur extends rr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ur({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ur({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return _n(e,"POST","/v1/accounts:signInWithPhoneNumber",En(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await _n(e,"POST","/v1/accounts:signInWithPhoneNumber",En(e,t));if(n.temporaryProof)throw Cn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return _n(e,"POST","/v1/accounts:signInWithPhoneNumber",En(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),lr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ur({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class cr{constructor(e){var t,n,r,i,s,a;const o=we(Ee(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ln(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=we(Ee(e)).link,n=t?we(Ee(t)).deep_link_id:null,r=we(Ee(e)).deep_link_id;return(r?we(Ee(r)).link:null)||r||n||t||e}(e);try{return new cr(t)}catch(em){return null}}}class hr{constructor(){this.providerId=hr.PROVIDER_ID}static credential(e,t){return sr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cr.parseLink(t);return ln(n,"argument-error"),sr._fromEmailAndCode(e,n.code,n.tenantId)}}hr.PROVIDER_ID="password",hr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fr extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends fr{constructor(){super("facebook.com")}static credential(e){return or._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch(em){return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com",pr.PROVIDER_ID="facebook.com";class mr extends fr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return or._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mr.credential(n,r)}catch(em){return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com",mr.PROVIDER_ID="google.com";class gr extends fr{constructor(){super("github.com")}static credential(e){return or._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch(em){return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com",gr.PROVIDER_ID="github.com";class vr extends fr{constructor(){super("twitter.com")}static credential(e,t){return or._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vr.credential(n,r)}catch(em){return null}}}async function yr(e,t){return _n(e,"POST","/v1/accounts:signUp",En(e,t))}vr.TWITTER_SIGN_IN_METHOD="twitter.com",vr.PROVIDER_ID="twitter.com";class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Un._fromIdTokenResponse(e,n,r),s=wr(n);return new br({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=wr(n);return new br({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function wr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Er extends pe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Er(e,t,n,r)}}function kr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Er._fromErrorAndOperation(e,n,t,r);throw n}))}async function Sr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Rn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return br._forOperation(e,"link",r)}async function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Rn(e,kr(r,i,t,e),n);ln(s.idToken,r,"internal-error");const a=An(s.idToken);ln(a,r,"internal-error");const{sub:o}=a;return ln(e.uid===o,r,"user-mismatch"),br._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&rn(r,"user-mismatch"),s}}async function Tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await kr(e,r,t),s=await br._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ir(e,t){return Tr(tr(e),t)}async function Cr(e,t,n){const r=tr(e),i=await yr(r,{returnSecureToken:!0,email:t,password:n}),s=await br._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}new WeakMap;const Nr="__sak";class xr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(em){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ar extends xr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=le();return Hn(e)||Xn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);de()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ar.type="LOCAL";const Rr=Ar;class Dr extends xr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dr.type="SESSION";const Pr=Dr;class Lr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Lr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Lr.receivers=[];class Mr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Or("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ur(){return window}function Fr(){return"undefined"!==typeof Ur().WorkerGlobalScope&&"function"===typeof Ur().importScripts}const jr="firebaseLocalStorageDb",Vr="firebaseLocalStorage",zr="fbase_key";class Br{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function qr(e,t){return e.transaction([Vr],t?"readwrite":"readonly").objectStore(Vr)}function Hr(){const e=indexedDB.open(jr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vr,{keyPath:zr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jr);return new Br(e).toPromise()}(),t(await Hr()))}))}))}async function Kr(e,t,n){const r=qr(e,!0).put({[zr]:t,value:n});return new Br(r).toPromise()}function Wr(e,t){const n=qr(e,!0).delete(t);return new Br(n).toPromise()}class Gr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lr._getInstance(Fr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Mr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(em){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hr();return await Kr(e,Nr,"1"),await Wr(e,Nr),!0}catch(em){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Kr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=qr(e,!1).get(t),r=await new Br(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Wr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=qr(e,!1).getAll();return new Br(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gr.type="LOCAL";const Qr=Gr;function $r(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Xr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Xr("rcb"),new gn(3e4,6e4);const Yr="recaptcha";async function Jr(e,t,n){var r;const i=await n.verify();try{let s;if(ln("string"===typeof i,e,"argument-error"),ln(n.type===Yr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ln("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kn(e,"POST","/v2/accounts/mfaEnrollment:start",En(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ln("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ln(n,e,"missing-multi-factor-info");const a=await function(e,t){return kn(e,"POST","/v2/accounts/mfaSignIn:start",En(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kn(e,"POST","/v1/accounts:sendVerificationCode",En(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Zr{constructor(e){this.providerId=Zr.PROVIDER_ID,this.auth=tr(e)}verifyPhoneNumber(e,t){return Jr(this.auth,e,_e(t))}static credential(e,t){return ur._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zr.credentialFromTaggedObject(t)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ur._fromTokenResponse(n,r):null}}function ei(e,t){return t?dn(t):(ln(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zr.PROVIDER_ID="phone",Zr.PHONE_SIGN_IN_METHOD="phone";class ti extends rr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ar(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ar(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ar(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ni(e){return Tr(e.auth,new ti(e),e.bypassAuthState)}function ri(e){const{auth:t,user:n}=e;return ln(n,t,"internal-error"),_r(n,new ti(e),e.bypassAuthState)}async function ii(e){const{auth:t,user:n}=e;return ln(n,t,"internal-error"),Sr(n,new ti(e),e.bypassAuthState)}class si{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:rn(this.auth,"internal-error")}}resolve(e){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ai=new gn(2e3,1e4);class oi extends si{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ln(e,this.auth,"internal-error"),e}async onExecution(){cn(1===this.filter.length,"Popup operations only handle one event");const e=Or();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(sn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(sn(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,ai.get())};e()}}oi.currentPopupAction=null;const li="pendingRedirect",ui=new Map;class ci extends si{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ui.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fi(t),r=di(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ui.set(this.auth._key(),e)}return this.bypassAuthState||ui.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function hi(e,t){ui.set(e._key(),t)}function di(e){return dn(e._redirectPersistence)}function fi(e){return Vn(li,e.config.apiKey,e.name)}async function pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=tr(e),i=ei(r,t),s=new ci(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class mi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gi(e))}saveEventToCache(e){this.cachedEventUids.add(gi(e)),this.lastProcessedEventTime=Date.now()}}function gi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function vi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=/^https?/;async function wi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return kn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Ei(n))return}catch(em){}rn(e,"unauthorized-domain")}function Ei(e){const t=fn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!bi.test(n))return!1;if(yi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ki=new gn(3e4,6e4);function Si(){const e=Ur().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let _i=null;function Ti(e){return _i=_i||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){Si(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Si(),n(sn(e,"network-request-failed"))},timeout:ki.get()})}if(null===(i=null===(r=Ur().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ur().gapi)||void 0===s?void 0:s.load)){const t=Xr("iframefcb");return Ur()[t]=()=>{gapi.load?a():n(sn(e,"network-request-failed"))},$r("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw _i=null,e}))}(e),_i}const Ii=new gn(5e3,15e3),Ci="__/auth/iframe",Ni="emulator/auth/iframe",xi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ri(e){const t=e.config;ln(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vn(t,Ni):"https://".concat(e.config.authDomain,"/").concat(Ci),r={apiKey:t.apiKey,appName:e.name,v:Mt},i=Ai.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(be(r).slice(1))}const Di={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Li(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Di),{width:r.toString(),height:i.toString(),top:s,left:a}),u=le().toLowerCase();n&&(o=Kn(u)?"_blank":n),qn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Xn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:le())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Pi(null);const h=window.open(t||"",o,c);ln(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Pi(h)}const Oi="__/auth/handler",Mi="emulator/auth/handler";function Ui(e,t,n,r,i,s){ln(e.config.authDomain,e,"auth-domain-config-required"),ln(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mt,eventId:i};if(t instanceof dr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof fr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const l of Object.keys(o))void 0===o[l]&&delete o[l];return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Oi);return vn(t,Mi)}(e),"?").concat(be(o).slice(1))}const Fi="webStorageSupport";const ji=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pr,this._completeRedirectFn=pi,this._overrideRedirectResult=hi}async _openPopup(e,t,n,r){var i;cn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Li(e,Ui(e,t,n,fn(),r),Or())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Ui(e,t,n,fn(),r),Ur().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ti(e),n=Ur().gapi;return ln(n,e,"internal-error"),t.open({where:document.body,url:Ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xi,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=sn(e,"network-request-failed"),s=Ur().setTimeout((()=>{r(i)}),Ii.get());function a(){Ur().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new mi(e);return t.register("authEvent",(t=>{ln(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fi,{type:Fi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Fi];void 0!==i&&t(!!i),rn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yn()||Hn()||Xn()}};var Vi,zi="@firebase/auth",Bi="0.20.2";class qi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ln(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Vi="Browser",Dt(new Te("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((e,t)=>{ln(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),ln(!(null===a||void 0===a?void 0:a.includes(":")),"argument-error",{appName:e.name});const r={apiKey:s,authDomain:a,clientPlatform:Vi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(Vi)},i=new er(e,t,r);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Dt(new Te("auth-internal",(e=>(e=>new qi(e))(tr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(zi,Bi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vi)),Ft(zi,Bi,"esm2017");Ft("firebase","9.8.2","app");var Hi,Ki="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wi={},Gi=Gi||{},Qi=Ki||self;function $i(){}function Xi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ji="closure_uid_"+(1e9*Math.random()>>>0),Zi=0;function es(e,t,n){return e.call.apply(e.bind,arguments)}function ts(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ns(e,t,n){return(ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?es:ts).apply(null,arguments)}function rs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function is(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ss(){this.s=this.s,this.o=this.o}var as={};ss.prototype.s=!1,ss.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ji)&&e[Ji]||(e[Ji]=++Zi)}(this);delete as[e]}},ss.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const os=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ls=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function us(e){return Array.prototype.concat.apply([],arguments)}function cs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function hs(e){return/^[\s\xa0]*$/.test(e)}var ds,fs=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ps(e,t){return-1!=e.indexOf(t)}function ms(e,t){return e<t?-1:e>t?1:0}e:{var gs=Qi.navigator;if(gs){var vs=gs.userAgent;if(vs){ds=vs;break e}}ds=""}function ys(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function bs(e){const t={};for(const n in e)t[n]=e[n];return t}var ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Es(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ws.length;t++)n=ws[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ks(e){return ks[" "](e),e}ks[" "]=$i;var Ss,_s=ps(ds,"Opera"),Ts=ps(ds,"Trident")||ps(ds,"MSIE"),Is=ps(ds,"Edge"),Cs=Is||Ts,Ns=ps(ds,"Gecko")&&!(ps(ds.toLowerCase(),"webkit")&&!ps(ds,"Edge"))&&!(ps(ds,"Trident")||ps(ds,"MSIE"))&&!ps(ds,"Edge"),xs=ps(ds.toLowerCase(),"webkit")&&!ps(ds,"Edge");function As(){var e=Qi.document;return e?e.documentMode:void 0}e:{var Rs="",Ds=function(){var e=ds;return Ns?/rv:([^\);]+)(\)|;)/.exec(e):Is?/Edge\/([\d\.]+)/.exec(e):Ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xs?/WebKit\/(\S+)/.exec(e):_s?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ds&&(Rs=Ds?Ds[1]:""),Ts){var Ps=As();if(null!=Ps&&Ps>parseFloat(Rs)){Ss=String(Ps);break e}}Ss=Rs}var Ls,Os={};function Ms(){return function(e){var t=Os;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=fs(String(Ss)).split("."),n=fs("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=ms(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ms(0==i[2].length,0==s[2].length)||ms(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(Qi.document&&Ts){var Us=As();Ls=Us||(parseInt(Ss,10)||void 0)}else Ls=void 0;var Fs=Ls,js=function(){if(!Qi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qi.addEventListener("test",$i,t),Qi.removeEventListener("test",$i,t)}catch(n){}return e}();function Vs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function zs(e,t){if(Vs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ns){e:{try{ks(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zs.Z.h.call(this)}}Vs.prototype.h=function(){this.defaultPrevented=!0},is(zs,Vs);var Bs={2:"touch",3:"pen",4:"mouse"};zs.prototype.h=function(){zs.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),Hs=0;function Ks(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Hs,this.ca=this.fa=!1}function Ws(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gs(e){this.src=e,this.g={},this.h=0}function Qs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=os(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ws(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $s(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Gs.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$s(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Ks(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Xs="closure_lm_"+(1e6*Math.random()|0),Ys={};function Js(e,t,n,r,i){if(r&&r.once)return ea(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Js(e,t[s],n,r,i);return null}return n=oa(n),e&&e[qs]?e.N(t,n,Yi(r)?!!r.capture:!!r,i):Zs(e,t,n,!1,r,i)}function Zs(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Yi(i)?!!i.capture:!!i,o=sa(e);if(o||(e[Xs]=o=new Gs(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ia;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)js||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ra(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ea(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ea(e,t[s],n,r,i);return null}return n=oa(n),e&&e[qs]?e.O(t,n,Yi(r)?!!r.capture:!!r,i):Zs(e,t,n,!0,r,i)}function ta(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ta(e,t[s],n,r,i);else r=Yi(r)?!!r.capture:!!r,n=oa(n),e&&e[qs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$s(s=e.g[t],n,r,i))&&(Ws(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=sa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$s(t,n,r,i)),(n=-1<e?t[e]:null)&&na(n))}function na(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[qs])Qs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ra(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sa(t))?(Qs(n,e),0==n.h&&(n.src=null,t[Xs]=null)):Ws(e)}}}function ra(e){return e in Ys?Ys[e]:Ys[e]="on"+e}function ia(e,t){if(e.ca)e=!0;else{t=new zs(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&na(e),e=n.call(r,t)}return e}function sa(e){return(e=e[Xs])instanceof Gs?e:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(e){return"function"===typeof e?e:(e[aa]||(e[aa]=function(t){return e.handleEvent(t)}),e[aa])}function la(){ss.call(this),this.i=new Gs(this),this.P=this,this.I=null}function ua(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Vs(t,e);else if(t instanceof Vs)t.target=t.target||e;else{var i=t;Es(t=new Vs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ca(a,r,!0,t)&&i}if(i=ca(a=t.g=e,r,!0,t)&&i,i=ca(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ca(a=t.g=n[s],r,!1,t)&&i}function ca(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,l=a.ia||a.src;a.fa&&Qs(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}is(la,ss),la.prototype[qs]=!0,la.prototype.removeEventListener=function(e,t,n,r){ta(this,e,t,n,r)},la.prototype.M=function(){if(la.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ws(n[r]);delete t.g[e],t.h--}}this.I=null},la.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},la.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ha=Qi.JSON.stringify;function da(){var e=ba;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fa,pa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ma),(e=>e.reset()));class ma{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ga(e){Qi.setTimeout((()=>{throw e}),0)}function va(e,t){fa||function(){var e=Qi.Promise.resolve(void 0);fa=function(){e.then(wa)}}(),ya||(fa(),ya=!0),ba.add(e,t)}var ya=!1,ba=new class{constructor(){this.h=this.g=null}add(e,t){const n=pa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function wa(){for(var e;e=da();){try{e.h.call(e.g)}catch(n){ga(n)}var t=pa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1}function Ea(e,t){la.call(this),this.h=e||1,this.g=t||Qi,this.j=ns(this.kb,this),this.l=Date.now()}function ka(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Sa(e,t,n){if("function"===typeof e)n&&(e=ns(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ns(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qi.setTimeout(e,t||0)}function _a(e){e.g=Sa((()=>{e.g=null,e.i&&(e.i=!1,_a(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}is(Ea,la),(Hi=Ea.prototype).da=!1,Hi.S=null,Hi.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ua(this,"tick"),this.da&&(ka(this),this.start()))}},Hi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hi.M=function(){Ea.Z.M.call(this),ka(this),delete this.g};class Ta extends ss{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_a(this)}M(){super.M(),this.g&&(Qi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(e){ss.call(this),this.h=e,this.g={}}is(Ia,ss);var Ca=[];function Na(e,t,n,r){Array.isArray(n)||(n&&(Ca[0]=n.toString()),n=Ca);for(var i=0;i<n.length;i++){var s=Js(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function xa(e){ys(e.g,(function(e,t){this.g.hasOwnProperty(t)&&na(e)}),e),e.g={}}function Aa(){this.g=!0}function Ra(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ha(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Ia.prototype.M=function(){Ia.Z.M.call(this),xa(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Aa.prototype.Aa=function(){this.g=!1},Aa.prototype.info=function(){};var Da={},Pa=null;function La(){return Pa=Pa||new la}function Oa(e){Vs.call(this,Da.Ma,e)}function Ma(e){const t=La();ua(t,new Oa(t,e))}function Ua(e,t){Vs.call(this,Da.STAT_EVENT,e),this.stat=t}function Fa(e){const t=La();ua(t,new Ua(t,e))}function ja(e,t){Vs.call(this,Da.Na,e),this.size=t}function Va(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qi.setTimeout((function(){e()}),t)}Da.Ma="serverreachability",is(Oa,Vs),Da.STAT_EVENT="statevent",is(Ua,Vs),Da.Na="timingevent",is(ja,Vs);var za={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ba={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qa(){}function Ha(e){return e.h||(e.h=e.i())}function Ka(){}qa.prototype.h=null;var Wa,Ga={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qa(){Vs.call(this,"d")}function $a(){Vs.call(this,"c")}function Xa(){}function Ya(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ia(this),this.P=Za,e=Cs?125:void 0,this.W=new Ea(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ja}function Ja(){this.i=null,this.g="",this.h=!1}is(Qa,Vs),is($a,Vs),is(Xa,qa),Xa.prototype.g=function(){return new XMLHttpRequest},Xa.prototype.i=function(){return{}},Wa=new Xa;var Za=45e3,eo={},to={};function no(e,t,n){e.K=1,e.v=Io(wo(t)),e.s=n,e.U=!0,ro(e,null)}function ro(e,t){e.F=Date.now(),oo(e),e.A=wo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),jo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ja,e.g=zl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ta(ns(e.Ia,e,e.g),e.O)),Na(e.V,e.g,"readystatechange",e.gb),t=e.H?bs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ma(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function io(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function so(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=ao(e,n),r==to){4==t&&(e.o=4,Fa(14),i=!1),Ra(e.j,e.m,null,"[Incomplete Response]");break}if(r==eo){e.o=4,Fa(15),Ra(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ra(e.j,e.m,r,null),fo(e,r)}io(e)&&r!=to&&r!=eo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fa(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pl(t),t.L=!0,Fa(11))):(Ra(e.j,e.m,n,"[Invalid Chunked Response]"),ho(e),co(e))}function ao(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?to:(n=Number(t.substring(n,r)),isNaN(n)?eo:(r+=1)+n>t.length?to:(t=t.substr(r,n),e.C=r+n,t))}function oo(e){e.Y=Date.now()+e.P,lo(e,e.P)}function lo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Va(ns(e.eb,e),t)}function uo(e){e.B&&(Qi.clearTimeout(e.B),e.B=null)}function co(e){0==e.l.G||e.I||Ml(e.l,e)}function ho(e){uo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ka(e.W),xa(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Go(n.i,e)))if(n.I=e.N,!e.J&&Go(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ol(n),_l(n)}Dl(n),Fa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Va(ns(n.ab,n),6e3));if(1>=Wo(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else Fl(n,11)}else if((e.J||n.g==e)&&Ol(n),!hs(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(ps(e,"spdy")||ps(e,"quic")||ps(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Qo(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,To(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((r=n).oa=Vl(r,r.H?r.la:null,r.W),a.J){$o(r.i,a);var o=a,l=r.K;l&&o.setTimeout(l),o.B&&(uo(o),oo(o)),r.g=a}else Rl(r);0<n.l.length&&Cl(n)}else"stop"!=u[0]&&"close"!=u[0]||Fl(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fl(n,7):Sl(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ma(4)}catch(u){}}function po(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xi(e)||"string"===typeof e)ls(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Xi(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Xi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function mo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof mo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function go(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vo(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Hi=Ya.prototype).setTimeout=function(e){this.P=e},Hi.gb=function(e){e=e.target;const t=this.L;t&&3==yl(e)?t.l():this.Ia(e)},Hi.Ia=function(e){try{if(e==this.g)e:{const c=yl(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Cs||this.g&&(this.h.h||this.g.ga()||bl(this.g)))){this.I||4!=c||7==t||Ma(8==t||0>=h?3:2),uo(this);var n=this.g.ba();this.N=n;t:if(io(this)){var r=bl(this.g);e="";var i=r.length,s=4==yl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ho(this),co(this);var a="";break t}this.h.i=new Qi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hs(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Fa(12),ho(this),co(this);break e}Ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fo(this,n)}this.U?(so(this,c,a),Cs&&this.i&&3==c&&(Na(this.V,this.W,"tick",this.fb),this.W.start())):(Ra(this.j,this.m,a,null),fo(this,a)),4==c&&ho(this),this.i&&!this.I&&(4==c?Ml(this.l,this):(this.i=!1,oo(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Fa(12)):(this.o=0,Fa(13)),ho(this),co(this)}}}catch(c){}},Hi.fb=function(){if(this.g){var e=yl(this.g),t=this.g.ga();this.C<t.length&&(uo(this),so(this,e,t),this.i&&4!=e&&oo(this))}},Hi.cancel=function(){this.I=!0,ho(this)},Hi.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ma(3),Fa(17)),ho(this),this.o=2,co(this)):lo(this,this.Y-e)},(Hi=mo.prototype).R=function(){go(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Hi.T=function(){return go(this),this.g.concat()},Hi.get=function(e,t){return vo(this.h,e)?this.h[e]:t},Hi.set=function(e,t){vo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Hi.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var yo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof bo){this.g=void 0!==t?t:e.g,Eo(this,e.j),this.s=e.s,ko(this,e.i),So(this,e.m),this.l=e.l,t=e.h;var n=new Oo;n.i=t.i,t.g&&(n.g=new mo(t.g),n.h=t.h),_o(this,n),this.o=e.o}else e&&(n=String(e).match(yo))?(this.g=!!t,Eo(this,n[1]||"",!0),this.s=Co(n[2]||""),ko(this,n[3]||"",!0),So(this,n[4]),this.l=Co(n[5]||"",!0),_o(this,n[6]||"",!0),this.o=Co(n[7]||"")):(this.g=!!t,this.h=new Oo(null,this.g))}function wo(e){return new bo(e)}function Eo(e,t,n){e.j=n?Co(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ko(e,t,n){e.i=n?Co(t,!0):t}function So(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _o(e,t,n){t instanceof Oo?(e.h=t,function(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uo(this,t),jo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=No(t,Po)),e.h=new Oo(t,e.g))}function To(e,t,n){e.h.set(t,n)}function Io(e){return To(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Co(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function No(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(No(t,Ao,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(No(t,Ao,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(No(n,"/"==n.charAt(0)?Do:Ro,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",No(n,Lo)),e.join("")};var Ao=/[#\/\?@]/g,Ro=/[#\?:]/g,Do=/[#\?]/g,Po=/[#\?@]/g,Lo=/#/g;function Oo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new mo,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uo(e,t){Mo(e),t=Vo(e,t),vo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vo((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&go(e)))}function Fo(e,t){return Mo(e),t=Vo(e,t),vo(e.g.h,t)}function jo(e,t,n){Uo(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),cs(n)),e.h+=n.length)}function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hi=Oo.prototype).add=function(e,t){Mo(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hi.forEach=function(e,t){Mo(this),this.g.forEach((function(n,r){ls(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Hi.T=function(){Mo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Hi.R=function(e){Mo(this);var t=[];if("string"===typeof e)Fo(this,e)&&(t=us(t,this.g.get(Vo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=us(t,e[n])}return t},Hi.set=function(e,t){return Mo(this),this.i=null,Fo(this,e=Vo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hi.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Hi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};var zo=class{constructor(e,t){this.h=e,this.g=t}};function Bo(e){this.l=e||Ho,Qi.PerformanceNavigationTiming?e=0<(e=Qi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qi.g&&Qi.g.Ea&&Qi.g.Ea()&&Qi.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qo,Ho=10;function Ko(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wo(e){return e.h?1:e.g?e.g.size:0}function Go(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qo(e,t){e.g?e.g.add(t):e.h=t}function $o(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return cs(e.i)}function Yo(){}function Jo(){this.g=new Yo}function Zo(e,t,n){const r=n||"";try{po(e,(function(e,n){let i=e;Yi(e)&&(i=ha(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function el(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function tl(e){this.l=e.$b||null,this.j=e.ib||!1}function nl(e,t){la.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bo.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Yo.prototype.stringify=function(e){return Qi.JSON.stringify(e,void 0)},Yo.prototype.parse=function(e){return Qi.JSON.parse(e,void 0)},is(tl,qa),tl.prototype.g=function(){return new nl(this.l,this.j)},tl.prototype.i=(qo={},function(){return qo}),is(nl,la);var rl=0;function il(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function sl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,al(e)}function al(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hi=nl.prototype).open=function(e,t){if(this.readyState!=rl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,al(this)},Hi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Qi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Hi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=rl},Hi.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Qi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;il(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Hi.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sl(this):al(this),3==this.readyState&&il(this)}},Hi.Ua=function(e){this.g&&(this.response=this.responseText=e,sl(this))},Hi.Ta=function(e){this.g&&(this.response=e,sl(this))},Hi.ha=function(){this.g&&sl(this)},Hi.setRequestHeader=function(e,t){this.v.append(e,t)},Hi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ol=Qi.JSON.parse;function ll(e){la.call(this),this.headers=new mo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ul,this.K=this.L=!1}is(ll,la);var ul="",cl=/^https?$/i,hl=["POST","PUT"];function dl(e){return"content-type"==e.toLowerCase()}function fl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pl(e),gl(e)}function pl(e){e.D||(e.D=!0,ua(e,"complete"),ua(e,"error"))}function ml(e){if(e.h&&"undefined"!=typeof Gi&&(!e.C[1]||4!=yl(e)||2!=e.ba()))if(e.v&&4==yl(e))Sa(e.Fa,0,e);else if(ua(e,"readystatechange"),4==yl(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(yo)[1]||null;if(!i&&Qi.self&&Qi.self.location){var s=Qi.self.location.protocol;i=s.substr(0,s.length-1)}r=!cl.test(i?i.toLowerCase():"")}n=r}if(n)ua(e,"complete"),ua(e,"success");else{e.m=6;try{var a=2<yl(e)?e.g.statusText:""}catch(o){a=""}e.j=a+" ["+e.ba()+"]",pl(e)}}finally{gl(e)}}}function gl(e,t){if(e.g){vl(e);const r=e.g,i=e.C[0]?$i:null;e.g=null,e.C=null,t||ua(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function vl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Qi.clearTimeout(e.A),e.A=null)}function yl(e){return e.g?e.g.readyState:0}function bl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ul:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return ys(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):To(e,t,n))}function El(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kl(e){this.za=0,this.l=[],this.h=new Aa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=El("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=El("baseRetryDelayMs",5e3,e),this.$a=El("retryDelaySeedMs",1e4,e),this.Ya=El("forwardChannelMaxRetries",2,e),this.ra=El("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Bo(e&&e.concurrentRequestLimit),this.Ca=new Jo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Sl(e){if(Tl(e),3==e.G){var t=e.V++,n=wo(e.F);To(n,"SID",e.J),To(n,"RID",t),To(n,"TYPE","terminate"),xl(e,n),(t=new Ya(e,e.h,t,void 0)).K=2,t.v=Io(wo(n)),n=!1,Qi.navigator&&Qi.navigator.sendBeacon&&(n=Qi.navigator.sendBeacon(t.v.toString(),"")),!n&&Qi.Image&&((new Image).src=t.v,n=!0),n||(t.g=zl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),oo(t)}jl(e)}function _l(e){e.g&&(Pl(e),e.g.cancel(),e.g=null)}function Tl(e){_l(e),e.u&&(Qi.clearTimeout(e.u),e.u=null),Ol(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qi.clearTimeout(e.m),e.m=null)}function Il(e,t){e.l.push(new zo(e.Za++,t)),3==e.G&&Cl(e)}function Cl(e){Ko(e.i)||e.m||(e.m=!0,va(e.Ha,e),e.C=0)}function Nl(e,t){var n;n=t?t.m:e.V++;const r=wo(e.F);To(r,"SID",e.J),To(r,"RID",n),To(r,"AID",e.U),xl(e,r),e.o&&e.s&&wl(r,e.o,e.s),n=new Ya(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Al(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qo(e.i,n),no(n,r,t)}function xl(e,t){e.j&&po({},(function(e,n){To(t,n,e)}))}function Al(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ns(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const o=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{Zo(o,e,"req"+n+"_")}catch(mu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Rl(e){e.g||e.u||(e.Y=1,va(e.Ga,e),e.A=0)}function Dl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Va(ns(e.Ga,e),Ul(e,e.A)),e.A++,!0)}function Pl(e){null!=e.B&&(Qi.clearTimeout(e.B),e.B=null)}function Ll(e){e.g=new Ya(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=wo(e.oa);To(t,"RID","rpc"),To(t,"SID",e.J),To(t,"CI",e.N?"0":"1"),To(t,"AID",e.U),xl(e,t),To(t,"TYPE","xmlhttp"),e.o&&e.s&&wl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Io(wo(t)),n.s=null,n.U=!0,ro(n,e)}function Ol(e){null!=e.v&&(Qi.clearTimeout(e.v),e.v=null)}function Ml(e,t){var n=null;if(e.g==t){Ol(e),Pl(e),e.g=null;var r=2}else{if(!Go(e.i,t))return;n=t.D,$o(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ua(r=La(),new ja(r,n,t,i)),Cl(e)}else Rl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Wo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Va(ns(e.Ha,e,t),Ul(e,e.C)),e.C++,!0))}(e,t)||2==r&&Dl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fl(e,5);break;case 4:Fl(e,10);break;case 3:Fl(e,6);break;default:Fl(e,2)}}function Ul(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ns(e.jb,e);n||(n=new bo("//www.google.com/images/cleardot.gif"),Qi.location&&"http"==Qi.location.protocol||Eo(n,"https"),Io(n)),function(e,t){const n=new Aa;if(Qi.Image){const r=new Image;r.onload=rs(el,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rs(el,n,r,"TestLoadImage: error",!1,t),r.onabort=rs(el,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rs(el,n,r,"TestLoadImage: timeout",!1,t),Qi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fa(2);e.G=0,e.j&&e.j.va(t),jl(e),Tl(e)}function jl(e){e.G=0,e.I=-1,e.j&&(0==Xo(e.i).length&&0==e.l.length||(e.i.i.length=0,cs(e.l),e.l.length=0),e.j.ua())}function Vl(e,t,n){let r=function(e){return e instanceof bo?wo(e):new bo(e,void 0)}(n);if(""!=r.i)t&&ko(r,t+"."+r.i),So(r,r.m);else{const e=Qi.location;r=function(e,t,n,r){var i=new bo(null,void 0);return e&&Eo(i,e),t&&ko(i,t),n&&So(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&ys(e.aa,(function(e,t){To(r,t,e)})),t=e.D,n=e.sa,t&&n&&To(r,t,n),To(r,"VER",e.ma),xl(e,r),r}function zl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ll(new tl({ib:!0})):new ll(e.qa)).L=e.H,t}function Bl(){}function ql(){if(Ts&&!(10<=Number(Fs)))throw Error("Environmental error: no available transport.")}function Hl(e,t){la.call(this),this.g=new kl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!hs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hs(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gl(this)}function Kl(e){Qa.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wl(){$a.call(this),this.status=1}function Gl(e){this.g=e}(Hi=ll.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wa.g(),this.C=this.u?Ha(this.u):Ha(Wa),this.g.onreadystatechange=ns(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void fl(this,s)}e=n||"";const i=new mo(this.headers);r&&po(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=dl;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Qi.FormData&&e instanceof Qi.FormData,!(0<=os(hl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vl(this),0<this.B&&((this.K=function(e){return Ts&&Ms()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ns(this.pa,this)):this.A=Sa(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fl(this,s)}},Hi.pa=function(){"undefined"!=typeof Gi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ua(this,"timeout"),this.abort(8))},Hi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ua(this,"complete"),ua(this,"abort"),gl(this))},Hi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gl(this,!0)),ll.Z.M.call(this)},Hi.Fa=function(){this.s||(this.F||this.v||this.l?ml(this):this.cb())},Hi.cb=function(){ml(this)},Hi.ba=function(){try{return 2<yl(this)?this.g.status:-1}catch(qo){return-1}},Hi.ga=function(){try{return this.g?this.g.responseText:""}catch(qo){return""}},Hi.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ol(t)}},Hi.Da=function(){return this.m},Hi.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Hi=kl.prototype).ma=8,Hi.G=1,Hi.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Hi.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ya(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=bs(s),Es(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Al(this,i,t),To(n=wo(this.F),"RID",e),To(n,"CVER",22),this.D&&To(n,"X-HTTP-Session-Id",this.D),xl(this,n),this.o&&s&&wl(n,this.o,s),Qo(this.i,i),this.Ra&&To(n,"TYPE","init"),this.ja?(To(n,"$req",t),To(n,"SID","null"),i.$=!0,no(i,n,null)):no(i,n,t),this.G=2}}else 3==this.G&&(e?Nl(this,e):0==this.l.length||Ko(this.i)||Nl(this))},Hi.Ga=function(){if(this.u=null,Ll(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Va(ns(this.bb,this),e)}},Hi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fa(10),_l(this),Ll(this))},Hi.ab=function(){null!=this.v&&(this.v=null,_l(this),Dl(this),Fa(19))},Hi.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Fa(2)):(this.h.info("Failed to ping google.com"),Fa(1))},(Hi=Bl.prototype).xa=function(){},Hi.wa=function(){},Hi.va=function(){},Hi.ua=function(){},Hi.Oa=function(){},ql.prototype.g=function(e,t){return new Hl(e,t)},is(Hl,la),Hl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),va(ns(e.hb,e,t))),Fa(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Vl(e,null,e.W),Cl(e)},Hl.prototype.close=function(){Sl(this.g)},Hl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Il(this.g,t)}else this.v?((t={}).__data__=ha(e),Il(this.g,t)):Il(this.g,e)},Hl.prototype.M=function(){this.g.j=null,delete this.j,Sl(this.g),delete this.g,Hl.Z.M.call(this)},is(Kl,Qa),is(Wl,$a),is(Gl,Bl),Gl.prototype.xa=function(){ua(this.g,"a")},Gl.prototype.wa=function(e){ua(this.g,new Kl(e))},Gl.prototype.va=function(e){ua(this.g,new Wl(e))},Gl.prototype.ua=function(){ua(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Hl.prototype.send=Hl.prototype.u,Hl.prototype.open=Hl.prototype.m,Hl.prototype.close=Hl.prototype.close,za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Ba.COMPLETE="complete",Ka.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",la.prototype.listen=la.prototype.N,ll.prototype.listenOnce=ll.prototype.O,ll.prototype.getLastError=ll.prototype.La,ll.prototype.getLastErrorCode=ll.prototype.Da,ll.prototype.getStatus=ll.prototype.ba,ll.prototype.getResponseJson=ll.prototype.Qa,ll.prototype.getResponseText=ll.prototype.ga,ll.prototype.send=ll.prototype.ea;var Ql=Wi.createWebChannelTransport=function(){return new ql},$l=Wi.getStatEventTarget=function(){return La()},Xl=Wi.ErrorCode=za,Yl=Wi.EventType=Ba,Jl=Wi.Event=Da,Zl=Wi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},eu=Wi.FetchXmlHttpFactory=tl,tu=Wi.WebChannel=Ka,nu=Wi.XhrIo=ll;const ru="@firebase/firestore";class iu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}iu.UNAUTHENTICATED=new iu(null),iu.GOOGLE_CREDENTIALS=new iu("google-credentials-uid"),iu.FIRST_PARTY=new iu("first-party-uid"),iu.MOCK_USER=new iu("mock-user");let su="9.8.0";const au=new Oe("@firebase/firestore");function ou(){return au.logLevel}function lu(e){if(au.logLevel<=Ae.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);au.debug("Firestore (".concat(su,"): ").concat(e),...i)}}function uu(e){if(au.logLevel<=Ae.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);au.error("Firestore (".concat(su,"): ").concat(e),...i)}}function cu(e){if(au.logLevel<=Ae.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);au.warn("Firestore (".concat(su,"): ").concat(e),...i)}}function hu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function du(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(su,") INTERNAL ASSERTION FAILED: ")+e;throw uu(t),new Error(t)}function fu(e,t){e||du()}function pu(e,t){return e}const mu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gu extends pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(iu.UNAUTHENTICATED)))}shutdown(){}}class wu{constructor(e){this.t=e,this.currentUser=iu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{lu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(lu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(lu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fu("string"==typeof t.accessToken),new yu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fu(null===e||"string"==typeof e),new iu(e)}}class Eu{constructor(e,t,n){this.type="FirstParty",this.user=iu.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ku{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Eu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(iu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Su{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _u{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&lu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.p;return this.p=e.token,lu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{lu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):lu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fu("string"==typeof e.token),this.p=e.token,new Su(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Tu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Iu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Tu.A=-1;class Cu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Iu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Nu(e,t){return e<t?-1:e>t?1:0}function xu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Au{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Au.fromMillis(Date.now())}static fromDate(e){return Au.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Au(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nu(this.nanoseconds,e.nanoseconds):Nu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ru{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ru(e)}static min(){return new Ru(new Au(0,0))}static max(){return new Ru(new Au(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Du(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Lu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ou{constructor(e,t,n){void 0===t?t=0:t>e.length&&du(),void 0===n?n=e.length-t:n>e.length-t&&du(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ou.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ou?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mu extends Ou{construct(e,t,n){return new Mu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gu(mu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Mu(e)}static emptyPath(){return new Mu([])}}const Uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fu extends Ou{construct(e,t,n){return new Fu(e,t,n)}static isValidIdentifier(e){return Uu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gu(mu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gu(mu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gu(mu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gu(mu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fu(t)}static emptyPath(){return new Fu([])}}class ju{constructor(e){this.fields=e,e.sort(Fu.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Vu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Vu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vu.EMPTY_BYTE_STRING=new Vu("");const zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(e){if(fu(!!e),"string"==typeof e){let t=0;const n=zu.exec(e);if(fu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qu(e.seconds),nanos:qu(e.nanos)}}function qu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hu(e){return"string"==typeof e?Vu.fromBase64String(e):Vu.fromUint8Array(e)}function Ku(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wu(e){const t=e.mapValue.fields.__previous_value__;return Ku(t)?Wu(t):t}function Gu(e){const t=Bu(e.mapValue.fields.__local_write_time__.timestampValue);return new Au(t.seconds,t.nanos)}class Qu{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class $u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}function Xu(e){return null==e}function Yu(e){return 0===e&&1/e==-1/0}function Ju(e){return"number"==typeof e&&Number.isInteger(e)&&!Yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Zu{constructor(e){this.path=e}static fromPath(e){return new Zu(Mu.fromString(e))}static fromName(e){return new Zu(Mu.fromString(e).popFirst(5))}static empty(){return new Zu(Mu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zu(new Mu(e.slice()))}}const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ku(e)?4:pc(e)?9007199254740991:10:du()}function nc(e,t){if(e===t)return!0;const n=tc(e);if(n!==tc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gu(e).isEqual(Gu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bu(e.timestampValue),r=Bu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hu(e.bytesValue).isEqual(Hu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qu(e.geoPointValue.latitude)===qu(t.geoPointValue.latitude)&&qu(e.geoPointValue.longitude)===qu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qu(e.integerValue)===qu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qu(e.doubleValue),r=qu(t.doubleValue);return n===r?Yu(n)===Yu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xu(e.arrayValue.values||[],t.arrayValue.values||[],nc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Du(n)!==Du(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nc(n[i],r[i])))return!1;return!0}(e,t);default:return du()}}function rc(e,t){return void 0!==(e.values||[]).find((e=>nc(e,t)))}function ic(e,t){if(e===t)return 0;const n=tc(e),r=tc(t);if(n!==r)return Nu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qu(e.integerValue||e.doubleValue),r=qu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sc(e.timestampValue,t.timestampValue);case 4:return sc(Gu(e),Gu(t));case 5:return Nu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hu(e),r=Hu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Nu(n[i],r[i]);if(0!==e)return e}return Nu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Nu(qu(e.latitude),qu(t.latitude));return 0!==n?n:Nu(qu(e.longitude),qu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ic(n[i],r[i]);if(e)return e}return Nu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ec.mapValue&&t===ec.mapValue)return 0;if(e===ec.mapValue)return 1;if(t===ec.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Nu(r[a],s[a]);if(0!==e)return e;const t=ic(n[r[a]],i[s[a]]);if(0!==t)return t}return Nu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw du()}}function sc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nu(e,t);const n=Bu(e),r=Bu(t),i=Nu(n.seconds,r.seconds);return 0!==i?i:Nu(n.nanos,r.nanos)}function ac(e){return oc(e)}function oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(oc(e.fields[i]));return n+"}"}(e.mapValue):du();var t,n}function lc(e){return!!e&&"integerValue"in e}function uc(e){return!!e&&"arrayValue"in e}function cc(e){return!!e&&"nullValue"in e}function hc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dc(e){return!!e&&"mapValue"in e}function fc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=fc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class mc{constructor(e){this.value=e}static empty(){return new mc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=Fu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];dc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new mc(fc(this.value))}}function gc(e){const t=[];return Pu(e.fields,((e,n)=>{const r=new Fu([e]);if(dc(n)){const e=gc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ju(t)}class vc{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new vc(e,0,Ru.min(),Ru.min(),mc.empty(),0)}static newFoundDocument(e,t,n){return new vc(e,1,t,Ru.min(),n,0)}static newNoDocument(e,t){return new vc(e,2,t,Ru.min(),mc.empty(),0)}static newUnknownDocument(e,t){return new vc(e,3,t,Ru.min(),mc.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vc(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}yc.UNKNOWN_ID=-1;function bc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ru.fromTimestamp(1e9===r?new Au(n+1,0):new Au(n,r));return new Ec(i,Zu.empty(),t)}function wc(e){return new Ec(e.readTime,e.key,-1)}class Ec{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ec(Ru.min(),Zu.empty(),-1)}static max(){return new Ec(Ru.max(),Zu.empty(),-1)}}function kc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zu.comparator(e.documentKey,t.documentKey),0!==n?n:Nu(e.largestBatchId,t.largestBatchId))}class Sc{constructor(e,t){this.comparator=e,this.root=t||Tc.EMPTY}insert(e,t){return new Sc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tc.BLACK,null,null))}remove(e){return new Sc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Tc.RED,this.left=null!=r?r:Tc.EMPTY,this.right=null!=i?i:Tc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Tc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw du();if(this.right.isRed())throw du();const e=this.left.check();if(e!==this.right.check())throw du();return e+(this.isRed()?0:1)}}Tc.EMPTY=null,Tc.RED=!0,Tc.BLACK=!1,Tc.EMPTY=new class{constructor(){this.size=0}get key(){throw du()}get value(){throw du()}get color(){throw du()}get left(){throw du()}get right(){throw du()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Tc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ic{constructor(e){this.comparator=e,this.data=new Sc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cc(this.data.getIterator())}getIteratorFrom(e){return new Cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ic))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ic(this.comparator);return t.data=e,t}}class Cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.P=null}}function xc(e){return new Nc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ac(e){const t=pu(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+ac(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Xu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ac(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ac(e))).join(",")),t.P=e}return t.P}function Rc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Hc(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!nc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wc(e.startAt,t.startAt)&&Wc(e.endAt,t.endAt)}function Dc(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Pc extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Lc(e,t,n):"array-contains"===t?new Fc(e,n):"in"===t?new jc(e,n):"not-in"===t?new Vc(e,n):"array-contains-any"===t?new zc(e,n):new Pc(e,t,n)}static V(e,t,n){return"in"===t?new Oc(e,n):new Mc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ic(t,this.value)):null!==t&&tc(this.value)===tc(t)&&this.v(ic(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return du()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lc extends Pc{constructor(e,t,n){super(e,t,n),this.key=Zu.fromName(n.referenceValue)}matches(e){const t=Zu.comparator(e.key,this.key);return this.v(t)}}class Oc extends Pc{constructor(e,t){super(e,"in",t),this.keys=Uc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Mc extends Pc{constructor(e,t){super(e,"not-in",t),this.keys=Uc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Uc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zu.fromName(e.referenceValue)))}class Fc extends Pc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uc(t)&&rc(t.arrayValue,this.value)}}class jc extends Pc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rc(this.value.arrayValue,t)}}class Vc extends Pc{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rc(this.value.arrayValue,t)}}class zc extends Pc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>rc(this.value.arrayValue,e)))}}class Bc{constructor(e,t){this.position=e,this.inclusive=t}}class qc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Hc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Kc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Zu.comparator(Zu.fromName(a.referenceValue),n.key):ic(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nc(e.position[n],t.position[n]))return!1;return!0}class Gc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function Qc(e,t,n,r,i,s,a,o){return new Gc(e,t,n,r,i,s,a,o)}function $c(e){return new Gc(e)}function Xc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yc(e){for(const t of e.filters)if(t.S())return t.field;return null}function Jc(e){return null!==e.collectionGroup}function Zc(e){const t=pu(e);if(null===t.D){t.D=[];const e=Yc(t),n=Xc(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new qc(e)),t.D.push(new qc(Fu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new qc(Fu.keyField(),e))}}}return t.D}function eh(e){const t=pu(e);if(!t.C)if("F"===t.limitType)t.C=xc(t.path,t.collectionGroup,Zc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Zc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new qc(i.field,t))}const n=t.endAt?new Bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bc(t.startAt.position,t.startAt.inclusive):null;t.C=xc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function th(e,t,n){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nh(e,t){return Rc(eh(e),eh(t))&&e.limitType===t.limitType}function rh(e){return"".concat(Ac(eh(e)),"|lt:").concat(e.limitType)}function ih(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>{return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ac(t.value));var t})).join(", "),"]")),Xu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ac(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ac(e))).join(",")),"Target(".concat(t,")")}(eh(e)),"; limitType=").concat(e.limitType,")")}function sh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Kc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zc(e),t))}(e,t)}function ah(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oh(e){return(t,n)=>{let r=!1;for(const i of Zc(e)){const e=lh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function lh(e,t,n){const r=e.field.isKeyField()?Zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ic(r,i):du()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return du()}}function uh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(t)?"-0":t}}function ch(e){return{integerValue:""+e}}function hh(e,t){return Ju(t)?ch(t):uh(e,t)}class dh{constructor(){this._=void 0}}function fh(e,t,n){return e instanceof gh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vh?yh(e,t):e instanceof bh?wh(e,t):function(e,t){const n=mh(e,t),r=kh(n)+kh(e.k);return lc(n)&&lc(e.k)?ch(r):uh(e.M,r)}(e,t)}function ph(e,t,n){return e instanceof vh?yh(e,t):e instanceof bh?wh(e,t):n}function mh(e,t){return e instanceof Eh?lc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class gh extends dh{}class vh extends dh{constructor(e){super(),this.elements=e}}function yh(e,t){const n=Sh(t);for(const r of e.elements)n.some((e=>nc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class bh extends dh{constructor(e){super(),this.elements=e}}function wh(e,t){let n=Sh(t);for(const r of e.elements)n=n.filter((e=>!nc(e,r)));return{arrayValue:{values:n}}}class Eh extends dh{constructor(e,t){super(),this.M=e,this.k=t}}function kh(e){return qu(e.integerValue||e.doubleValue)}function Sh(e){return uc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _h{constructor(e,t){this.version=e,this.transformResults=t}}class Th{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Th}static exists(e){return new Th(void 0,e)}static updateTime(e){return new Th(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ch{}function Nh(e,t,n){e instanceof Ph?function(e,t,n){const r=e.value.clone(),i=Mh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lh?function(e,t,n){if(!Ih(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Mh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Oh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xh(e,t,n){e instanceof Ph?function(e,t,n){if(!Ih(e.precondition,t))return;const r=e.value.clone(),i=Uh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Dh(t),r).setHasLocalMutations()}(e,t,n):e instanceof Lh?function(e,t,n){if(!Ih(e.precondition,t))return;const r=Uh(e.fieldTransforms,n,t),i=t.data;i.setAll(Oh(e)),i.setAll(r),t.convertToFoundDocument(Dh(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ih(e.precondition,t)&&t.convertToNoDocument(Ru.min())}(e,t)}function Ah(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mh(r.transform,e||null);null!=i&&(null==n&&(n=mc.empty()),n.set(r.field,i))}return n||null}function Rh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vh&&t instanceof vh||e instanceof bh&&t instanceof bh?xu(e.elements,t.elements,nc):e instanceof Eh&&t instanceof Eh?nc(e.k,t.k):e instanceof gh&&t instanceof gh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Dh(e){return e.isFoundDocument()?e.version:Ru.min()}class Ph extends Ch{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Lh extends Ch{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Oh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Mh(e,t,n){const r=new Map;fu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ph(a,o,n[i]))}return r}function Uh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fh(e,s,t))}return r}class Fh extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jh extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Vh{constructor(e){this.count=e}}var zh,Bh;function qh(e){switch(e){default:return du();case mu.CANCELLED:case mu.UNKNOWN:case mu.DEADLINE_EXCEEDED:case mu.RESOURCE_EXHAUSTED:case mu.INTERNAL:case mu.UNAVAILABLE:case mu.UNAUTHENTICATED:return!1;case mu.INVALID_ARGUMENT:case mu.NOT_FOUND:case mu.ALREADY_EXISTS:case mu.PERMISSION_DENIED:case mu.FAILED_PRECONDITION:case mu.ABORTED:case mu.OUT_OF_RANGE:case mu.UNIMPLEMENTED:case mu.DATA_LOSS:return!0}}function Hh(e){if(void 0===e)return uu("GRPC error has no .code"),mu.UNKNOWN;switch(e){case zh.OK:return mu.OK;case zh.CANCELLED:return mu.CANCELLED;case zh.UNKNOWN:return mu.UNKNOWN;case zh.DEADLINE_EXCEEDED:return mu.DEADLINE_EXCEEDED;case zh.RESOURCE_EXHAUSTED:return mu.RESOURCE_EXHAUSTED;case zh.INTERNAL:return mu.INTERNAL;case zh.UNAVAILABLE:return mu.UNAVAILABLE;case zh.UNAUTHENTICATED:return mu.UNAUTHENTICATED;case zh.INVALID_ARGUMENT:return mu.INVALID_ARGUMENT;case zh.NOT_FOUND:return mu.NOT_FOUND;case zh.ALREADY_EXISTS:return mu.ALREADY_EXISTS;case zh.PERMISSION_DENIED:return mu.PERMISSION_DENIED;case zh.FAILED_PRECONDITION:return mu.FAILED_PRECONDITION;case zh.ABORTED:return mu.ABORTED;case zh.OUT_OF_RANGE:return mu.OUT_OF_RANGE;case zh.UNIMPLEMENTED:return mu.UNIMPLEMENTED;case zh.DATA_LOSS:return mu.DATA_LOSS;default:return du()}}(Bh=zh||(zh={}))[Bh.OK=0]="OK",Bh[Bh.CANCELLED=1]="CANCELLED",Bh[Bh.UNKNOWN=2]="UNKNOWN",Bh[Bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bh[Bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bh[Bh.NOT_FOUND=5]="NOT_FOUND",Bh[Bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bh[Bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bh[Bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bh[Bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bh[Bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bh[Bh.ABORTED=10]="ABORTED",Bh[Bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bh[Bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bh[Bh.INTERNAL=13]="INTERNAL",Bh[Bh.UNAVAILABLE=14]="UNAVAILABLE",Bh[Bh.DATA_LOSS=15]="DATA_LOSS";class Kh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Lu(this.inner)}size(){return this.innerSize}}const Wh=new Sc(Zu.comparator);function Gh(){return Wh}const Qh=new Sc(Zu.comparator);function $h(){let e=Qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Xh(){return new Kh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yh=new Sc(Zu.comparator),Jh=new Ic(Zu.comparator);function Zh(){let e=Jh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ed=new Ic(Nu);function td(){return ed}class nd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t)),new nd(Ru.min(),n,td(),Gh(),Zh())}}class rd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rd(Vu.EMPTY_BYTE_STRING,t,Zh(),Zh(),Zh())}}class id{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class sd{constructor(e,t){this.targetId=e,this.$=t}}class ad{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class od{constructor(){this.B=0,this.L=cd(),this.U=Vu.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Zh(),t=Zh(),n=Zh();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:du()}})),new rd(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=cd()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ld{constructor(e){this.nt=e,this.st=new Map,this.it=Gh(),this.rt=ud(),this.ot=new Ic(Nu)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:du()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(Dc(e))if(0===n){const n=new Zu(e.path);this.ct(t,n,vc.newNoDocument(n,Ru.min()))}else fu(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Dc(i.target)){const t=new Zu(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.ct(r,t,vc.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}}));let n=Zh();this.rt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const r=new nd(e,t,this.ot,this.it,n);return this.it=Gh(),this.rt=ud(),this.ot=new Ic(Nu),r}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new od,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ic(Nu),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||lu("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new od),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ud(){return new Sc(Zu.comparator)}function cd(){return new Sc(Zu.comparator)}const hd={asc:"ASCENDING",desc:"DESCENDING"},dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fd{constructor(e,t){this.databaseId=e,this.N=t}}function pd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function md(e,t){return e.N?t.toBase64():t.toUint8Array()}function gd(e,t){return pd(e,t.toTimestamp())}function vd(e){return fu(!!e),Ru.fromTimestamp(function(e){const t=Bu(e);return new Au(t.seconds,t.nanos)}(e))}function yd(e,t){return function(e){return new Mu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bd(e){const t=Mu.fromString(e);return fu(jd(t)),t}function wd(e,t){return yd(e.databaseId,t.path)}function Ed(e,t){const n=bd(t);if(n.get(1)!==e.databaseId.projectId)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zu(Td(n))}function kd(e,t){return yd(e.databaseId,t)}function Sd(e){const t=bd(e);return 4===t.length?Mu.emptyPath():Td(t)}function _d(e){return new Mu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Td(e){return fu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Id(e,t,n){return{name:wd(e,t),fields:n.value.mapValue.fields}}function Cd(e,t){let n;if(t instanceof Ph)n={update:Id(e,t.key,t.value)};else if(t instanceof Fh)n={delete:wd(e,t.key)};else if(t instanceof Lh)n={update:Id(e,t.key,t.data),updateMask:Fd(t.fieldMask)};else{if(!(t instanceof jh))return du();n={verify:wd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof gh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw du()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:du()}(e,t.precondition)),n}function Nd(e,t){return{documents:[kd(e,t.path)]}}function xd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NAN"}};if(cc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NAN"}};if(cc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(e.field),op:Pd(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ld(e.field),direction:Dd(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.N||Xu(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ad(e){let t=Sd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Rd(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new qc(Od(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Xu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Bc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Bc(n,t)}(n.endAt)),Qc(t,i,a,s,o,"F",l,u)}function Rd(e){return e?void 0!==e.unaryFilter?[Ud(e)]:void 0!==e.fieldFilter?[Md(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Rd(e))).reduce(((e,t)=>e.concat(t))):du():[]}function Dd(e){return hd[e]}function Pd(e){return dd[e]}function Ld(e){return{fieldPath:e.canonicalString()}}function Od(e){return Fu.fromServerFormat(e.fieldPath)}function Md(e){return Pc.create(Od(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return du()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ud(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Od(e.unaryFilter.field);return Pc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Od(e.unaryFilter.field);return Pc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Od(e.unaryFilter.field);return Pc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Od(e.unaryFilter.field);return Pc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return du()}}function Fd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}const Vd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Hd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&du(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hd?t:Hd.resolve(t)}catch(e){return Hd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hd.reject(t)}static resolve(e){return new Hd(((t,n)=>{t(e)}))}static reject(e){return new Hd(((t,n)=>{n(e)}))}static waitFor(e){return new Hd(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Hd.resolve(!1);for(const n of e)t=t.next((e=>e?Hd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function Kd(e){return"IndexedDbTransactionError"===e.name}class Wd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nh(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&xh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&xh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Ru.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zh())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,((e,t)=>Rh(e,t)))&&xu(this.baseMutations,e.baseMutations,((e,t)=>Rh(e,t)))}}class Gd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fu(e.mutations.length===n.length);let r=Yh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Gd(e,t,n,r)}}class Qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class $d{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ru.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ru.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vu.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new $d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xd{constructor(e){this.Jt=e}}function Yd(e){const t=Ad({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?th(t,t.limit,"L"):t}class Jd{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(qu(e.integerValue));else if("doubleValue"in e){const n=qu(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Yu(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie("".concat(n.seconds||"")),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Hu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?pc(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):du()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const r of Object.keys(n))this.re(r,t),this.te(n[r],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const r of n)this.te(r,t)}ae(e,t){this.ne(t,37),Zu.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}Jd.fe=new Jd;class Zd{constructor(){this.qe=new ef}addToCollectionParentIndex(e,t){return this.qe.add(t),Hd.resolve()}getCollectionParents(e,t){return Hd.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Hd.resolve()}deleteFieldIndex(e,t){return Hd.resolve()}getDocumentsMatchingTarget(e,t){return Hd.resolve(null)}getIndexType(e,t){return Hd.resolve(0)}getFieldIndexes(e,t){return Hd.resolve([])}getNextCollectionGroupToUpdate(e){return Hd.resolve(null)}getMinOffset(e,t){return Hd.resolve(Ec.min())}updateCollectionGroup(e,t,n){return Hd.resolve()}updateIndexEntries(e,t){return Hd.resolve()}}class ef{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ic(Mu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ic(Mu.comparator)).toArray()}}new Uint8Array(0);class tf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new tf(e,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tf.DEFAULT_COLLECTION_PERCENTILE=10,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tf.DEFAULT=new tf(41943040,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tf.DISABLED=new tf(-1,0,0);class nf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new nf(0)}static yn(){return new nf(-1)}}async function rf(e){if(e.code!==mu.FAILED_PRECONDITION||e.message!==Bd)throw e;lu("LocalStore","Unexpectedly lost primary lease")}class sf{constructor(){this.changes=new Kh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class af{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const r of t)r.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Jc(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new Zu(t)).next((e=>{let t=$h();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const r=t.collectionGroup;let i=$h();return this.indexManager.getCollectionParents(e,r).next((s=>Hd.forEach(s,(s=>{const a=function(e,t){return new Gc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.zs(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}zs(e,t,n){let r;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(r=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=vc.newInvalidDocument(n),r=r.insert(n,i)),xh(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}})).next((()=>(r.forEach(((e,n)=>{sh(t,n)||(r=r.remove(e))})),r)))}}class of{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=r}static Ys(e,t){let n=Zh(),r=Zh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new of(e,t.fromCache,n,r)}}class lf{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,n,r){return this.ti(e,t).next((i=>i||this.ei(e,t,r,n))).next((n=>n||this.ni(e,t)))}ti(e,t){return Hd.resolve(null)}ei(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Ru.min())?this.ni(e,t):this.Zs.Ks(e,n).next((i=>{const s=this.si(t,i);return this.ii(t,s,n,r)?this.ni(e,t):(ou()<=Ae.DEBUG&&lu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ih(t)),this.ri(e,s,t,bc(r,-1)))}))}si(e,t){let n=new Ic(oh(e));return t.forEach(((t,r)=>{sh(e,r)&&(n=n.add(r))})),n}ii(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ni(e,t){return ou()<=Ae.DEBUG&&lu("QueryEngine","Using full collection scan to execute query:",ih(t)),this.Zs.Qs(e,t,Ec.min())}ri(e,t,n,r){return this.Zs.Qs(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class uf{constructor(e,t,n,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new Sc(Nu),this.ai=new Kh((e=>Ac(e)),Rc),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(n)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new af(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ui)))}}function cf(e,t,n,r){return new uf(e,t,n,r)}async function hf(e,t){const n=pu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.Bs.getAllMutationBatches(e).next((i=>(r=i,n.li(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Zh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.fi.Ks(e,a).next((e=>({di:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function df(e){const t=pu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function ff(e,t,n){let r=Zh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Gh();return n.forEach(((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(Ru.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):lu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),r}))}function pf(e,t){const n=pu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}function mf(e,t){const n=pu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.fs.getTargetData(e,t).next((i=>i?(r=i,Hd.resolve(r)):n.fs.allocateTargetId(e).next((i=>(r=new $d(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}async function gf(e,t,n){const r=pu(e),i=r.ui.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Kd(e))throw e;lu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ui=r.ui.remove(t),r.ai.delete(i.target)}function vf(e,t,n){const r=pu(e);let i=Ru.min(),s=Zh();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=pu(e),i=r.ai.get(n);return void 0!==i?Hd.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,eh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.oi.Qs(e,t,n?i:Ru.min(),n?s:Zh()))).next((e=>(yf(r,ah(t),e),{documents:e,_i:s})))))}function yf(e,t,n){let r=Ru.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}class bf{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Hd.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:vd(n.createTime)}),Hd.resolve()}getNamedQuery(e,t){return Hd.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Yd(e.bundledQuery),readTime:vd(e.readTime)}}(t)),Hd.resolve()}}class wf{constructor(){this.overlays=new Sc(Zu.comparator),this.Ii=new Map}getOverlay(e,t){return Hd.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Xt(e,t,r)})),Hd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ii.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ii.delete(n)),Hd.resolve()}getOverlaysForCollection(e,t,n){const r=Xh(),i=t.length+1,s=new Zu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Xh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Xh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Hd.resolve(a)}Xt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);if(null!==r){const e=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Qd(t,n));let i=this.Ii.get(t);void 0===i&&(i=Zh(),this.Ii.set(t,i)),this.Ii.set(t,i.add(n.key))}}class Ef{constructor(){this.Ti=new Ic(kf.Ei),this.Ai=new Ic(kf.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const n=new kf(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}bi(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Pi(new kf(e,t))}Vi(e,t){e.forEach((e=>this.removeReference(e,t)))}vi(e){const t=new Zu(new Mu([])),n=new kf(t,e),r=new kf(t,e+1),i=[];return this.Ai.forEachInRange([n,r],(e=>{this.Pi(e),i.push(e.key)})),i}Si(){this.Ti.forEach((e=>this.Pi(e)))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Zu(new Mu([])),n=new kf(t,e),r=new kf(t,e+1);let i=Zh();return this.Ai.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new kf(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class kf{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Zu.comparator(e.key,t.key)||Nu(e.Ci,t.Ci)}static Ri(e,t){return Nu(e.Ci,t.Ci)||Zu.comparator(e.key,t.key)}}class Sf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Ic(kf.Ei)}checkEmpty(e){return Hd.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,r){const i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const s=new Wd(i,t,n,r);this.Bs.push(s);for(const a of r)this.Ni=this.Ni.add(new kf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Hd.resolve(s)}lookupMutationBatch(e,t){return Hd.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Mi(n),i=r<0?0:r;return Hd.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return Hd.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Hd.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new kf(t,0),r=new kf(t,Number.POSITIVE_INFINITY),i=[];return this.Ni.forEachInRange([n,r],(e=>{const t=this.ki(e.Ci);i.push(t)})),Hd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ic(Nu);return t.forEach((e=>{const t=new kf(e,0),r=new kf(e,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([t,r],(e=>{n=n.add(e.Ci)}))})),Hd.resolve(this.Oi(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zu.isDocumentKey(i)||(i=i.child(""));const s=new kf(new Zu(i),0);let a=new Ic(Nu);return this.Ni.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Ci)),!0)}),s),Hd.resolve(this.Oi(a))}Oi(e){const t=[];return e.forEach((e=>{const n=this.ki(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fu(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let n=this.Ni;return Hd.forEach(t.mutations,(r=>{const i=new kf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Ni=n}))}_n(e){}containsKey(e,t){const n=new kf(t,0),r=this.Ni.firstAfterOrEqual(n);return Hd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.Bs.length,Hd.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class _f{constructor(e){this.$i=e,this.docs=new Sc(Zu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hd.resolve(n?n.document.mutableCopy():vc.newInvalidDocument(t))}getEntries(e,t){let n=Gh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():vc.newInvalidDocument(e))})),Hd.resolve(n)}getAllFromCollection(e,t,n){let r=Gh();const i=new Zu(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||kc(wc(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Hd.resolve(r)}getAllFromCollectionGroup(e,t,n,r){du()}Bi(e,t){return Hd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tf(this)}getSize(e){return Hd.resolve(this.size)}}class Tf extends sf{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(n)})),Hd.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class If{constructor(e){this.persistence=e,this.Li=new Kh((e=>Ac(e)),Rc),this.lastRemoteSnapshotVersion=Ru.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Ef,this.targetCount=0,this.Ki=nf.gn()}forEachTarget(e,t){return this.Li.forEach(((e,n)=>t(n))),Hd.resolve()}getLastRemoteSnapshotVersion(e){return Hd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hd.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Hd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Hd.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new nf(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Hd.resolve()}updateTargetData(e,t){return this.Tn(t),Hd.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Hd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Li.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Li.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Hd.waitFor(i).next((()=>r))}getTargetCount(e){return Hd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Li.get(t)||null;return Hd.resolve(n)}addMatchingKeys(e,t,n){return this.qi.bi(t,n),Hd.resolve()}removeMatchingKeys(e,t,n){this.qi.Vi(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Hd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Hd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qi.Di(t);return Hd.resolve(n)}containsKey(e,t){return Hd.resolve(this.qi.containsKey(t))}}class Cf{constructor(e,t){this.Gi={},this.overlays={},this.es=new Tu(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new If(this),this.indexManager=new Zd,this.ds=function(e){return new _f(e)}((e=>this.referenceDelegate.Qi(e))),this.M=new Xd(t),this._s=new bf(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Gi[e.toKey()];return n||(n=new Sf(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){lu("MemoryPersistence","Starting transaction:",e);const r=new Nf(this.es.next());return this.referenceDelegate.ji(),n(r).next((e=>this.referenceDelegate.Wi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}zi(e,t){return Hd.or(Object.values(this.Gi).map((n=>()=>n.containsKey(e,t))))}}class Nf extends qd{constructor(e){super(),this.currentSequenceNumber=e}}class xf{constructor(e){this.persistence=e,this.Hi=new Ef,this.Ji=null}static Yi(e){return new xf(e)}get Xi(){if(this.Ji)return this.Ji;throw du()}addReference(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Hd.resolve()}removeReference(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Hd.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Hd.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach((e=>this.Xi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hd.forEach(this.Xi,(n=>{const r=Zu.fromPath(n);return this.Zi(e,r).next((e=>{e||t.removeEntry(r,Ru.min())}))})).next((()=>(this.Ji=null,t.apply(e))))}updateLimboDocument(e,t){return this.Zi(e,t).next((e=>{e?this.Xi.delete(t.toString()):this.Xi.add(t.toString())}))}Qi(e){return 0}Zi(e,t){return Hd.or([()=>Hd.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}class Af{constructor(){this.activeTargetIds=td()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rf{constructor(){this.Ur=new Af,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Af,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Df{Kr(e){}shutdown(){}}class Pf{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){lu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){lu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Of{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Mf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.uo=t+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,r,i){const s=this.ho(e,t);lu("RestConnection","Sending: ",s,n);const a={};return this.lo(a,r,i),this.fo(e,s,a,n).then((e=>(lu("RestConnection","Received: ",e),e)),(t=>{throw cu("RestConnection","".concat(e," failed with error: "),t,"url: ",s,"request:",n),t}))}_o(e,t,n,r,i){return this.co(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=Lf[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise(((i,s)=>{const a=new nu;a.listenOnce(Yl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Xl.NO_ERROR:const t=a.getResponseJson();lu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xl.TIMEOUT:lu("Connection",'RPC "'+e+'" timed out'),s(new gu(mu.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const n=a.getStatus();if(lu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mu).indexOf(t)>=0?t:mu.UNKNOWN}(e.status);s(new gu(t,e.message))}else s(new gu(mu.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new gu(mu.UNAVAILABLE,"Connection failed."));break;default:du()}}finally{lu("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}wo(e,t,n){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ql(),s=$l(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new eu({})),this.lo(a.initMessageHeaders,t,n),ue()||he()||le().indexOf("Electron/")>=0||de()||le().indexOf("MSAppHost/")>=0||ce()||(a.httpHeadersOverwriteParam="$httpHeaders");const o=r.join("");lu("Connection","Creating WebChannel: "+o,a);const l=i.createWebChannel(o,a);let u=!1,c=!1;const h=new Of({Jr:e=>{c?lu("Connection","Not sending because WebChannel is closed:",e):(u||(lu("Connection","Opening WebChannel transport."),l.open(),u=!0),lu("Connection","WebChannel sending:",e),l.send(e))},Yr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,tu.EventType.OPEN,(()=>{c||lu("Connection","WebChannel transport opened.")})),d(l,tu.EventType.CLOSE,(()=>{c||(c=!0,lu("Connection","WebChannel transport closed"),h.ro())})),d(l,tu.EventType.ERROR,(e=>{c||(c=!0,cu("Connection","WebChannel transport errored:",e),h.ro(new gu(mu.UNAVAILABLE,"The operation could not be completed")))})),d(l,tu.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];fu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){lu("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=zh[e];if(void 0!==t)return Hh(t)}(e),n=i.message;void 0===t&&(t=mu.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.ro(new gu(t,n)),l.close()}else lu("Connection","WebChannel received:",n),h.oo(n)}})),d(s,Jl.STAT_EVENT,(e=>{e.stat===Zl.PROXY?lu("Connection","Detected buffering proxy"):e.stat===Zl.NOPROXY&&lu("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.io()}),0),h}}function Uf(){return"undefined"!=typeof document?document:null}function Ff(e){return new fd(e,!0)}class jf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Yn=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&lu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Vf{constructor(e,t,n,r,i,s,a,o){this.Yn=e,this.Vo=n,this.vo=r,this.So=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new jf(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(()=>this.Bo())))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,t){this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==e?this.No.reset():t&&t.code===mu.RESOURCE_EXHAUSTED?(uu(t.toString()),uu("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):t&&t.code===mu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(t)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Do===t&&this.Qo(n,r)}),(t=>{e((()=>{const e=new gu(mu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.jo(e)}))}))}Qo(e,t){const n=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((()=>{n((()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,(()=>(this.Mo()&&(this.state=3),Promise.resolve()))),this.listener.Xr())))})),this.stream.eo((e=>{n((()=>this.jo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.No.Ro((async()=>{this.state=0,this.start()}))}jo(e){return lu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget((()=>this.Do===e?t():(lu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zf extends Vf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.M=i}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:du()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(fu(void 0===t||"string"==typeof t),Vu.fromBase64String(t||"")):(fu(void 0===t||t instanceof Uint8Array),Vu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?mu.UNKNOWN:Hh(e.code);return new gu(t,e.message||"")}(a);n=new ad(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ed(e,r.document.name),s=vd(r.document.updateTime),a=new mc({mapValue:{fields:r.document.fields}}),o=vc.newFoundDocument(i,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new id(l,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ed(e,r.document),s=r.readTime?vd(r.readTime):Ru.min(),a=vc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new id([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ed(e,r.document),s=r.removedTargetIds||[];n=new id([],s,i,null)}else{if(!("filter"in t))return du();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Vh(r),s=e.targetId;n=new sd(s,i)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Ru.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ru.min():t.readTime?vd(t.readTime):Ru.min()}(e);return this.listener.zo(t,n)}Ho(e){const t={};t.database=_d(this.M),t.addTarget=function(e,t){let n;const r=t.target;return n=Dc(r)?{documents:Nd(e,r)}:{query:xd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=md(e,t.resumeToken):t.snapshotVersion.compareTo(Ru.min())>0&&(n.readTime=pd(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return du()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}Jo(e){const t={};t.database=_d(this.M),t.removeTarget=e,this.Lo(t)}}class Bf extends Vf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.M=i,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(fu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function(e,t){return e&&e.length>0?(fu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?vd(e.updateTime):vd(t);return n.isEqual(Ru.min())&&(n=vd(t)),new _h(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=vd(e.commitTime);return this.listener.tu(n,t)}return fu(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=_d(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Cd(this.M,e)))};this.Lo(t)}}class qf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=n,this.M=r,this.su=!1}iu(){if(this.su)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.So.co(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())}))}_o(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.So._o(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())}))}terminate(){this.su=!0}}class Hf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(uu(t),this.uu=!1):lu("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Kf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=i,this.gu.Kr((e=>{n.enqueueAndForget((async()=>{ep(this)&&(lu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pu(e);t.wu.add(4),await Gf(t),t.yu.set("Unknown"),t.wu.delete(4),await Wf(t)}(this))}))})),this.yu=new Hf(n,r)}}async function Wf(e){if(ep(e))for(const t of e.mu)await t(!0)}async function Gf(e){for(const t of e.mu)await t(!1)}function Qf(e,t){const n=pu(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Zf(n)?Jf(n):yp(n).Mo()&&Xf(n,t))}function $f(e,t){const n=pu(e),r=yp(n);n._u.delete(t),r.Mo()&&Yf(n,t),0===n._u.size&&(r.Mo()?r.$o():ep(n)&&n.yu.set("Unknown"))}function Xf(e,t){e.pu.Z(t.targetId),yp(e).Ho(t)}function Yf(e,t){e.pu.Z(t),yp(e).Jo(t)}function Jf(e){e.pu=new ld({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e._u.get(t)||null}),yp(e).start(),e.yu.au()}function Zf(e){return ep(e)&&!yp(e).ko()&&e._u.size>0}function ep(e){return 0===pu(e).wu.size}function tp(e){e.pu=void 0}async function np(e){e._u.forEach(((t,n)=>{Xf(e,t)}))}async function rp(e,t){tp(e),Zf(e)?(e.yu.lu(t),Jf(e)):e.yu.set("Unknown")}async function ip(e,t,n){if(e.yu.set("Online"),t instanceof ad&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._u.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._u.delete(r),e.pu.removeTarget(r))}(e,t)}catch(n){lu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sp(e,n)}else if(t instanceof id?e.pu.ut(t):t instanceof sd?e.pu._t(t):e.pu.ht(t),!n.isEqual(Ru.min()))try{const t=await df(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.pu.yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e._u.get(t);if(!n)return;e._u.set(t,n.withResumeToken(Vu.EMPTY_BYTE_STRING,n.snapshotVersion)),Yf(e,t);const r=new $d(n.target,t,1,n.sequenceNumber);Xf(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lu("RemoteStore","Failed to raise snapshot:",t),await sp(e,t)}}async function sp(e,t,n){if(!Kd(t))throw t;e.wu.add(1),await Gf(e),e.yu.set("Offline"),n||(n=()=>df(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{lu("RemoteStore","Retrying IndexedDB access"),await n(),e.wu.delete(1),await Wf(e)}))}function ap(e,t){return t().catch((n=>sp(e,n,t)))}async function op(e){const t=pu(e),n=bp(t);let r=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;lp(t);)try{const e=await pf(t.localStore,r);if(null===e){0===t.du.length&&n.$o();break}r=e.batchId,up(t,e)}catch(e){await sp(t,e)}cp(t)&&hp(t)}function lp(e){return ep(e)&&e.du.length<10}function up(e,t){e.du.push(t);const n=bp(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function cp(e){return ep(e)&&!bp(e).ko()&&e.du.length>0}function hp(e){bp(e).start()}async function dp(e){bp(e).nu()}async function fp(e){const t=bp(e);for(const n of e.du)t.Zo(n.mutations)}async function pp(e,t,n){const r=e.du.shift(),i=Gd.from(r,t,n);await ap(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await op(e)}async function mp(e,t){t&&bp(e).Xo&&await async function(e,t){if(qh(n=t.code)&&n!==mu.ABORTED){const n=e.du.shift();bp(e).Fo(),await ap(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await op(e)}var n}(e,t),cp(e)&&hp(e)}async function gp(e,t){const n=pu(e);n.asyncQueue.verifyOperationInProgress(),lu("RemoteStore","RemoteStore received new credentials");const r=ep(n);n.wu.add(3),await Gf(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.wu.delete(3),await Wf(n)}async function vp(e,t){const n=pu(e);t?(n.wu.delete(2),await Wf(n)):t||(n.wu.add(2),await Gf(n),n.yu.set("Unknown"))}function yp(e){return e.Iu||(e.Iu=function(e,t,n){const r=pu(e);return r.iu(),new zf(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:np.bind(null,e),eo:rp.bind(null,e),zo:ip.bind(null,e)}),e.mu.push((async t=>{t?(e.Iu.Fo(),Zf(e)?Jf(e):e.yu.set("Unknown")):(await e.Iu.stop(),tp(e))}))),e.Iu}function bp(e){return e.Tu||(e.Tu=function(e,t,n){const r=pu(e);return r.iu(),new Bf(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:dp.bind(null,e),eo:mp.bind(null,e),eu:fp.bind(null,e),tu:pp.bind(null,e)}),e.mu.push((async t=>{t?(e.Tu.Fo(),await op(e)):(await e.Tu.stop(),e.du.length>0&&(lu("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]))}))),e.Tu}class wp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new wp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gu(mu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(e,t){if(uu("AsyncQueue","".concat(t,": ").concat(e)),Kd(e))return new gu(mu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class kp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zu.comparator(t.key,n.key):(e,t)=>Zu.comparator(e.key,t.key),this.keyedMap=$h(),this.sortedSet=new Sc(this.comparator)}static emptySet(e){return new kp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new kp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sp{constructor(){this.Eu=new Sc(Zu.comparator)}track(e){const t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):du():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _p{constructor(e,t,n,r,i,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new _p(e,t,kp.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Tp{constructor(){this.Ru=void 0,this.listeners=[]}}class Ip{constructor(){this.queries=new Kh((e=>rh(e)),nh),this.onlineState="Unknown",this.bu=new Set}}async function Cp(e,t){const n=pu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tp),i)try{s.Ru=await n.onListen(r)}catch(e){const n=Ep(e,"Initialization of query '".concat(ih(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Pu(n.onlineState),s.Ru&&t.Vu(s.Ru)&&Rp(n)}async function Np(e,t){const n=pu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xp(e,t){const n=pu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Vu(i)&&(r=!0);t.Ru=i}}r&&Rp(n)}function Ap(e,t,n){const r=pu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Rp(e){e.bu.forEach((e=>{e.next()}))}class Dp{constructor(e,t,n){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}Vu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _p(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}Cu(e){if(e.docChanges.length>0)return!0;const t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Nu(e){e=_p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Pp{constructor(e){this.key=e}}class Lp{constructor(e){this.key=e}}class Op{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Zh(),this.mutatedKeys=Zh(),this.Gu=oh(e),this.Qu=new kp(this.Gu)}get ju(){return this.Uu}Wu(e,t){const n=t?t.zu:new Sp,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=sh(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Hu(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Gu(c,o)>0||l&&this.Gu(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,ii:a,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Au();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return du()}};return n(e)-n(t)}(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,o=a!==this.qu;return this.qu=a,0!==i.length||o?{snapshot:new _p(this.query,e.Qu,r,i,e.mutatedKeys,0===a,o,!1),Xu:s}:{Xu:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Sp,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.Uu=this.Uu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Uu=this.Uu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zh(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new Lp(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new Pp(n))})),t}ta(e){this.Uu=e._i,this.Ku=Zh();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return _p.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Mp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Up{constructor(e){this.key=e,this.na=!1}}class Fp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sa={},this.ia=new Kh((e=>rh(e)),nh),this.ra=new Map,this.oa=new Set,this.ua=new Sc(Zu.comparator),this.aa=new Map,this.ca=new Ef,this.ha={},this.la=new Map,this.fa=nf.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}async function jp(e,t){const n=rm(e);let r,i;const s=n.ia.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const e=await mf(n.localStore,eh(t));n.isPrimaryClient&&Qf(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Vp(n,t,r,"current"===s)}return i}async function Vp(e,t,n,r){e._a=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.ii&&(i=await vf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Wu(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Yp(e,t.targetId,a.Xu),a.snapshot}(e,t,n,r);const i=await vf(e.localStore,t,!0),s=new Op(t,i._i),a=s.Wu(i.documents),o=rd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,o);Yp(e,n,l.Xu);const u=new Mp(t,n,s);return e.ia.set(t,u),e.ra.has(n)?e.ra.get(n).push(t):e.ra.set(n,[t]),l.snapshot}async function zp(e,t){const n=pu(e),r=n.ia.get(t),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter((e=>!nh(e,t)))),void n.ia.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gf(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),$f(n.remoteStore,r.targetId),$p(n,r.targetId)})).catch(rf)):($p(n,r.targetId),await gf(n.localStore,r.targetId,!0))}async function Bp(e,t){const n=pu(e);try{const e=await function(e,t){const n=pu(e),r=t.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.fs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.fs.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?u=u.withResumeToken(Vu.EMPTY_BYTE_STRING,Ru.min()).withLastLimboFreeSnapshotVersion(Ru.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.fs.updateTargetData(e,u))}));let o=Gh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ff(e,s,t.documentUpdates).next((e=>{o=e}))),!r.isEqual(Ru.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Hd.waitFor(a).next((()=>s.apply(e))).next((()=>n.fi.Gs(e,o))).next((()=>o))})).then((e=>(n.ui=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.aa.get(t);r&&(fu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.na=!0:e.modifiedDocuments.size>0?fu(r.na):e.removedDocuments.size>0&&(fu(r.na),r.na=!1))})),await em(n,e,t)}catch(e){await rf(e)}}function qp(e,t,n){const r=pu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ia.forEach(((n,r)=>{const i=r.view.Pu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Pu(t)&&(r=!0)})),r&&Rp(n)}(r.eventManager,t),e.length&&r.sa.zo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Hp(e,t,n){const r=pu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.aa.get(t),s=i&&i.key;if(s){let e=new Sc(Zu.comparator);e=e.insert(s,vc.newNoDocument(s,Ru.min()));const n=Zh().add(s),i=new nd(Ru.min(),new Map,new Ic(Nu),e,n);await Bp(r,i),r.ua=r.ua.remove(s),r.aa.delete(t),Zp(r)}else await gf(r.localStore,t,!1).then((()=>$p(r,t,n))).catch(rf)}async function Kp(e,t){const n=pu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Hd.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.Bs.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,r)))}))}(n.localStore,t);Qp(n,r,null),Gp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await em(n,e)}catch(e){await rf(e)}}async function Wp(e,t,n){const r=pu(e);try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.Bs.lookupMutationBatch(e,t).next((t=>(fu(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,r)))}))}(r.localStore,t);Qp(r,t,n),Gp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await em(r,e)}catch(n){await rf(n)}}function Gp(e,t){(e.la.get(t)||[]).forEach((e=>{e.resolve()})),e.la.delete(t)}function Qp(e,t,n){const r=pu(e);let i=r.ha[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function $p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ra.get(t))e.ia.delete(r),n&&e.sa.wa(r,n);e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((t=>{e.ca.containsKey(t)||Xp(e,t)}))}function Xp(e,t){e.oa.delete(t.path.canonicalString());const n=e.ua.get(t);null!==n&&($f(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Zp(e))}function Yp(e,t,n){for(const r of n)r instanceof Pp?(e.ca.addReference(r.key,t),Jp(e,r)):r instanceof Lp?(lu("SyncEngine","Document no longer in limbo: "+r.key),e.ca.removeReference(r.key,t),e.ca.containsKey(r.key)||Xp(e,r.key)):du()}function Jp(e,t){const n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(lu("SyncEngine","New document in limbo: "+n),e.oa.add(r),Zp(e))}function Zp(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){const t=e.oa.values().next().value;e.oa.delete(t);const n=new Zu(Mu.fromString(t)),r=e.fa.next();e.aa.set(r,new Up(n)),e.ua=e.ua.insert(n,r),Qf(e.remoteStore,new $d(eh($c(n.path)),r,2,Tu.A))}}async function em(e,t,n){const r=pu(e),i=[],s=[],a=[];r.ia.isEmpty()||(r.ia.forEach(((e,o)=>{a.push(r._a(o,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=of.Ys(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.sa.zo(i),await async function(e,t){const n=pu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hd.forEach(t,(t=>Hd.forEach(t.Hs,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hd.forEach(t.Js,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Kd(e))throw e;lu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ui.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ui=n.ui.insert(e,i)}}}(r.localStore,s))}async function tm(e,t){const n=pu(e);if(!n.currentUser.isEqual(t)){lu("SyncEngine","User change. New user:",t.toKey());const e=await hf(n.localStore,t);n.currentUser=t,function(e,t){e.la.forEach((e=>{e.forEach((e=>{e.reject(new gu(mu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await em(n,e.di)}}function nm(e,t){const n=pu(e),r=n.aa.get(t);if(r&&r.na)return Zh().add(r.key);{let e=Zh();const r=n.ra.get(t);if(!r)return e;for(const t of r){const r=n.ia.get(t);e=e.unionWith(r.view.ju)}return e}}function rm(e){const t=pu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hp.bind(null,t),t.sa.zo=xp.bind(null,t.eventManager),t.sa.wa=Ap.bind(null,t.eventManager),t}function im(e){const t=pu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wp.bind(null,t),t}class sm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return cf(this.persistence,new lf,e.initialUser,this.M)}ya(e){return new Cf(xf.Yi,this.M)}ga(e){return new Rf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class am{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>qp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=tm.bind(null,this.syncEngine),await vp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ip}createDatastore(e){const t=Ff(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Mf(r));var r;return function(e,t,n,r){return new qf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>qp(this.syncEngine,e,0),s=Pf.vt()?new Pf:new Df,new Kf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Fp(e,t,n,r,i,s);return a&&(o.da=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=pu(e);lu("RemoteStore","RemoteStore shutting down."),t.wu.add(5),await Gf(t),t.gu.shutdown(),t.yu.set("Unknown")}(this.remoteStore)}}class om{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class lm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=iu.UNAUTHENTICATED,this.clientId=Cu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{lu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(lu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ep(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function um(e,t){e.asyncQueue.verifyOperationInProgress(),lu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function cm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hm(e);lu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>gp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>gp(t.remoteStore,n))),e.onlineComponents=t}async function hm(e){return e.offlineComponents||(lu("FirestoreClient","Using default OfflineComponentProvider"),await um(e,new sm)),e.offlineComponents}async function dm(e){return e.onlineComponents||(lu("FirestoreClient","Using default OnlineComponentProvider"),await cm(e,new am)),e.onlineComponents}function fm(e){return dm(e).then((e=>e.syncEngine))}async function pm(e){const t=await dm(e),n=t.eventManager;return n.onListen=jp.bind(null,t.syncEngine),n.onUnlisten=zp.bind(null,t.syncEngine),n}function mm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new om({next:n=>{t.enqueueAndForget((()=>Np(e,a))),n.fromCache&&"server"===r.source?i.reject(new gu(mu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Dp(n,s,{includeMetadataChanges:!0,ku:!0});return Cp(e,a)}(await pm(e),e.asyncQueue,t,n,r))),r.promise}const gm=new Map;function vm(e,t,n){if(!n)throw new gu(mu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ym(e){if(!Zu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bm(e){if(Zu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":du()}function Em(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gu(mu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new gu(mu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class km{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new gu(mu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gu(mu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new gu(mu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,e instanceof $u?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gu(mu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(e.options.projectId)}(e))}get app(){if(!this._app)throw new gu(mu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gu(mu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bu;switch(e.type){case"gapi":const t=e.client;return fu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ku(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new gu(mu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gm.get(e);t&&(lu("ComponentProvider","Removing Datastore"),gm.delete(e),t.terminate())}(this),Promise.resolve()}}class _m{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Im(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _m(this.firestore,e,this._key)}}class Tm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tm(this.firestore,e,this._query)}}class Im extends Tm{constructor(e,t,n){super(e,t,$c(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _m(this.firestore,null,new Zu(e))}withConverter(e){return new Im(this.firestore,e,this._path)}}function Cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_e(e),1===arguments.length&&(t=Cu.R()),vm("doc","path",t),e instanceof Sm){const n=Mu.fromString(t,...r);return ym(n),new _m(e,null,new Zu(n))}{if(!(e instanceof _m||e instanceof Im))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mu.fromString(t,...r));return ym(n),new _m(e.firestore,e instanceof Im?e.converter:null,new Zu(n))}}class Nm{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new jf(this,"async_queue_retry"),this.Qa=()=>{const e=Uf();e&&lu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=Uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Uf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise((()=>{}));const t=new vu;return this.Wa((()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.$a.push(e),this.za())))}async za(){if(0!==this.$a.length){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(is){if(!Kd(is))throw is;lu("AsyncQueue","Operation failed with retryable error: "+is)}this.$a.length>0&&this.No.Ro((()=>this.za()))}}Wa(e){const t=this.Fa.then((()=>(this.qa=!0,e().catch((e=>{this.Ua=e,this.qa=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.qa=!1,e))))));return this.Fa=t,t}enqueueAfterDelay(e,t,n){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=wp.createAndSchedule(this,e,t,n,(e=>this.Ha(e)));return this.La.push(r),r}ja(){this.Ua&&du()}verifyOperationInProgress(){}async Ja(){let e;do{e=this.Fa,await e}while(e!==this.Fa)}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then((()=>{this.La.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()}))}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}class xm extends Sm{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Nm,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Rm(this),this._firestoreClient.terminate()}}function Am(e){return e._firestoreClient||Rm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rm(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Qu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lm(e._authCredentials,e._appCheckCredentials,e._queue,r)}class Dm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gu(mu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pm(Vu.fromBase64String(e))}catch(e){throw new gu(mu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pm(Vu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lm{constructor(e){this._methodName=e}}class Om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gu(mu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gu(mu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nu(this._lat,e._lat)||Nu(this._long,e._long)}}const Mm=/^__.*__$/;class Um{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ph(e,this.data,t,this.fieldTransforms)}}class Fm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw du()}}class Vm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.tc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return eg(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(jm(this.ec)&&Mm.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class zm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||Ff(e)}lc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vm({ec:e,methodName:t,hc:n,path:Fu.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bm(e){const t=e._freezeSettings(),n=Ff(e._databaseId);return new zm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.lc(s.merge||s.mergeFields?2:0,t,n,i);Xm("Data must be an object, but it was:",a,r);const o=Qm(r,a);let l,u;if(s.merge)l=new ju(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ym(t,r,n);if(!a.contains(i))throw new gu(mu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));tg(e,i)||e.push(i)}l=new ju(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new Um(new mc(o),l,u)}class Hm extends Lm{_toFieldTransform(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hm}}function Km(e,t,n,r){const i=e.lc(1,t,n);Xm("Data must be an object, but it was:",i,r);const s=[],a=mc.empty();Pu(r,((e,r)=>{const o=Zm(t,e,n);r=_e(r);const l=i.oc(o);if(r instanceof Hm)s.push(o);else{const e=Gm(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ju(s);return new Fm(a,o,i.fieldTransforms)}function Wm(e,t,n,r,i,s){const a=e.lc(1,t,n),o=[Ym(t,r,n)],l=[i];if(s.length%2!=0)throw new gu(mu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Ym(t,s[d])),l.push(s[d+1]);const u=[],c=mc.empty();for(let d=o.length-1;d>=0;--d)if(!tg(u,o[d])){const e=o[d];let t=l[d];t=_e(t);const n=a.oc(e);if(t instanceof Hm)u.push(e);else{const r=Gm(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new ju(u);return new Fm(c,h,a.fieldTransforms)}function Gm(e,t){if($m(e=_e(e)))return Xm("Unsupported field value:",t,e),Qm(e,t);if(e instanceof Lm)return function(e,t){if(!jm(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gm(i,t.uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=_e(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hh(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Au.fromDate(e);return{timestampValue:pd(t.M,n)}}if(e instanceof Au){const n=new Au(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pd(t.M,n)}}if(e instanceof Om)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pm)return{bytesValue:md(t.M,e._byteString)};if(e instanceof _m){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ac("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:yd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(wm(e)))}(e,t)}function Qm(e,t){const n={};return Lu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pu(e,((e,r)=>{const i=Gm(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $m(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Au||e instanceof Om||e instanceof Pm||e instanceof _m||e instanceof Lm)}function Xm(e,t,n){if(!$m(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wm(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function Ym(e,t,n){if((t=_e(t))instanceof Dm)return t._internalPath;if("string"==typeof t)return Zm(e,t);throw eg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jm=new RegExp("[~\\*/\\[\\]]");function Zm(e,t,n){if(t.search(Jm)>=0)throw eg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Dm(...t.split("."))._internalPath}catch(r){throw eg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function eg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new gu(mu.INVALID_ARGUMENT,o+e+l)}function tg(e,t){return e.some((e=>e.isEqual(t)))}class ng{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _m(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rg extends ng{data(){return super.data()}}function ig(e,t){return"string"==typeof t?Zm(e,t):t instanceof Dm?t._internalPath:t._delegate._internalPath}class sg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ag extends ng{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class og extends ag{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new og(this._firestore,this._userDataWriter,n.key,n,new sg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gu(mu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new og(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new og(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ug(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ug(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return du()}}function cg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gu(mu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw du()}}convertObject(e,t){const n={};return Pu(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Om(qu(e.latitude),qu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=Bu(e);return new Au(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mu.fromString(e);fu(jd(n));const r=new $u(n.get(1),n.get(3)),i=new Zu(n.popFirst(5));return r.isEqual(t)||uu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fg extends hg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _m(this.firestore,null,t)}}function pg(e,t,n){e=Em(e,_m);const r=Em(e.firestore,xm),i=dg(e.converter,t,n);return mg(r,[qm(Bm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Th.none())])}function mg(e,t){return function(e,t){const n=new vu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=im(e);try{const e=await function(e,t){const n=pu(e),r=Au.now(),i=t.reduce(((e,t)=>e.add(t.key)),Zh());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.fi.Ks(e,i).next((i=>{s=i;const a=[];for(const e of t){const t=Ah(e,s.get(e.key));null!=t&&a.push(new Lh(e.key,t,gc(t.value.mapValue),Th.exists(!0)))}return n.Bs.addMutationBatch(e,r,a,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ha[e.currentUser.toKey()];r||(r=new Sc(Nu)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(r,e.batchId,n),await em(r,e.changes),await op(r.remoteStore)}catch(e){const t=Ep(e,"Failed to persist write");n.reject(t)}}(await fm(e),t,n))),n.promise}(Am(e),t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){su=e}(Mt),Dt(new Te("firestore",((e,n)=>{let{options:r}=n;const i=e.getProvider("app").getImmediate(),s=new xm(i,new wu(e.getProvider("auth-internal")),new _u(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC")),Ft(ru,"3.4.9",e),Ft(ru,"3.4.9","esm2017")}();const gg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}const n=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Lt.create("bad-app-name",{appName:String(r)});const i=xt.get(r);if(i){if(ve(e,i.options)&&ve(n,i.config))return i;throw Lt.create("duplicate-app",{appName:r})}const s=new Ne(r);for(const o of At.values())s.addComponent(o);const a=new Ot(e,n,s);return xt.set(r,a),a}({apiKey:"AIzaSyCNilqizrUdycb39f9kBGs4h2WE-dB5WWE",authDomain:"service-desk-171ca.firebaseapp.com",projectId:"service-desk-171ca",storageBucket:"service-desk-171ca.appspot.com",messagingSenderId:"519177171789",appId:"1:519177171789:web:70b1989ddcf1a8620a3d04"}),vg=function(){return Pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut(),"firestore").getImmediate()}(gg),yg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut();const t=Pt(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Pt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ve(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;rn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ji,persistence:[Qr,Rr,Pr]})}(gg);var bg=n(579);const wg=()=>(0,bg.jsxs)("div",{className:"lds-ring",children:[(0,bg.jsx)("div",{}),(0,bg.jsx)("div",{}),(0,bg.jsx)("div",{}),(0,bg.jsx)("div",{})]}),Eg=e=>{let{children:t}=e;return yg.currentUser?t:(0,bg.jsx)(H,{to:"/service-desk/login"})};var kg=n(950);const Sg=function(e){let{children:t,opened:n,closeModal:r,title:i}=e;return kg.createPortal((0,bg.jsx)("div",{className:"modal fade".concat(n?" show":""),tabIndex:"-1",id:"form-modal",children:(0,bg.jsx)("div",{className:"modal-dialog",children:(0,bg.jsxs)("div",{className:"modal-content",children:[(0,bg.jsxs)("div",{className:"modal-header",children:[(0,bg.jsx)("h5",{className:"modal-title",children:i}),(0,bg.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Cerrar",onClick:r})]}),(0,bg.jsx)("div",{className:"modal-body",children:t})]})})}),document.getElementById("modal-area"))};const _g=function(e){let{setMessage:t,type:n,msg:r}=e;return(0,bg.jsxs)("div",{className:"alert alert-".concat(n," ").concat(r?"":"d-none"),role:"alert",children:[r,(0,bg.jsx)("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>t(null)})]})};function Tg(e){let{type:t,name:n,value:r,label:i,placeholder:s,handleChange:a,constraints:o,data:l}=e,u=null;return u="select"===t?(0,bg.jsxs)("select",{name:n,value:r,className:"form-select",id:n,onChange:a,...o,children:[(0,bg.jsx)("option",{value:"",children:"Seleccione..."}),l.map(((e,t)=>(0,bg.jsx)("option",{value:e,children:e},t)))]}):"textarea"===t?(0,bg.jsx)("textarea",{name:n,value:r,className:"form-control",placeholder:s,onChange:a,...o}):(0,bg.jsx)("input",{type:t,name:n,value:r,className:"form-control",placeholder:s,onChange:a,...o}),(0,bg.jsxs)("div",{className:"mb-3",children:[i&&(0,bg.jsxs)("label",{htmlFor:n,className:"form-label",children:[i,":"]}),u]})}Tg.defaultProps={type:"text"};const Ig=Tg,Cg={category:"",service_type:"",description:"",location:"",date:(e=>{const t=e.getTimezoneOffset();return(e=new Date(e.getTime()-60*t*1e3)).toISOString().split(["T"])[0]})(new Date)},Ng=["Mantenimiento Inmuebles","Mantenimiento Muebles","Servicios"],xg=["Ba\xf1os","Cielo Raso","El\xe9ctrico","Pared","Puerta"],Ag=["Aire acondicionado","Archivador","Puesto de trabajo","Silla"],Rg=["Aseo","Transporte","Vigilancia"],Dg=e=>{let{data:t,insertRequest:n,updateRequest:r,closeModal:s}=e;const[a,o]=(0,i.useState)(Cg),[l,u]=(0,i.useState)(null);(0,i.useEffect)((()=>{o(t||Cg)}),[t]);const c=e=>{const{name:t,value:n}=e.target;o({...a,[t]:n})};return(0,bg.jsxs)(bg.Fragment,{children:[l&&(0,bg.jsx)(_g,{setMessage:u,...l}),(0,bg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(),e.target.checkValidity()?(u(null),void 0===a.id||null===a.id?n(a):r(a),o(Cg)):u({type:"danger",msg:"Campos requeridos"})},noValidate:!0,children:[(0,bg.jsx)(Ig,{type:"select",name:"category",value:a.category,label:"Categor\xeda",data:Ng,handleChange:c,constraints:{required:!0}}),(0,bg.jsx)(Ig,{type:"select",name:"service_type",value:a.service_type,label:"Tipo de servicio",data:(h=a.category,h===Ng[0]?xg:h===Ng[1]?Ag:h===Ng[2]?Rg:[]),handleChange:c,constraints:{required:!0}}),(0,bg.jsx)(Ig,{type:"textarea",name:"description",value:a.description,label:"Descripci\xf3n",placeholder:"Ej. Se da\xf1\xf3 el aire acondicionado en...",handleChange:c,constraints:{required:!0}}),(0,bg.jsx)(Ig,{name:"location",value:a.location,label:"Ubicaci\xf3n en la empresa",placeholder:"Ej. Sistemas",handleChange:c,constraints:{required:!0}}),(0,bg.jsx)(Ig,{type:"date",name:"date",value:a.date,label:"Fecha de mantenimiento",placeholder:"Ej. Sistemas",handleChange:c,constraints:{required:!0}}),(0,bg.jsxs)("div",{className:"d-grid gap-2",children:[(0,bg.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Limpiar"}),(0,bg.jsx)("button",{type:"submit",className:"btn btn-success",children:"Enviar"})]})]})]});var h};const Pg=function(e){let{request:t,setDataToUpdate:n,deleteData:r,setQuestion:i,openModal:s,closeModal:a}=e;return(0,bg.jsxs)("tr",{children:[(0,bg.jsx)("td",{children:t.id}),(0,bg.jsx)("td",{children:t.category}),(0,bg.jsx)("td",{children:t.service_type}),(0,bg.jsx)("td",{children:t.description}),(0,bg.jsx)("td",{children:t.location}),(0,bg.jsx)("td",{children:t.date}),(0,bg.jsx)("td",{children:(0,bg.jsxs)("div",{className:"btn-group-vertical",children:[(0,bg.jsx)("button",{type:"button",className:"btn btn-warning","data-bs-toggle":"modal","data-bs-target":"#form-modal",onClick:()=>{n(t),s()},children:"Editar"}),(0,bg.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#info-modal",onClick:()=>{i({question:"\xbfEst\xe1 seguro de que desea eliminar la petici\xf3n ".concat(t.id,"?"),handleConfirm(){r(t.id),a()}}),s()},children:"Eliminar"})]})})]})};const Lg=function(e){let{title:t,question:n,opened:r,closeModal:i,handleConfirm:s}=e;return kg.createPortal((0,bg.jsx)("div",{className:"modal fade".concat(r?" show":""),tabIndex:"-1",id:"info-modal",children:(0,bg.jsx)("div",{className:"modal-dialog",children:(0,bg.jsxs)("div",{className:"modal-content",children:[(0,bg.jsxs)("div",{className:"modal-header",children:[(0,bg.jsx)("h5",{className:"modal-title",children:t}),(0,bg.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:i})]}),(0,bg.jsx)("div",{className:"modal-body",children:n}),(0,bg.jsxs)("div",{className:"modal-footer",children:[(0,bg.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:i,children:"No"}),(0,bg.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:s,children:"S\xed"})]})]})})}),document.getElementById("modal-area"))},Og=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,i.useState)(e);return[t,()=>n(!0),()=>n(!1)]};const Mg=function(e){let{data:t,setDataToUpdate:n,deleteData:r}=e;const[,s,a]=Og(!1),[o,l]=(0,i.useState)({question:""});let u=null;return u=0===t.length?(0,bg.jsx)("p",{children:"No hay datos para mostrar. Crea un registro"}):(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)(Lg,{title:"Confirmaci\xf3n",...o}),(0,bg.jsx)("div",{className:"table-responsive",children:(0,bg.jsxs)("table",{className:"table table-striped table-hover",children:[(0,bg.jsx)("thead",{children:(0,bg.jsxs)("tr",{children:[(0,bg.jsx)("th",{children:"Id"}),(0,bg.jsx)("th",{children:"Categor\xeda"}),(0,bg.jsx)("th",{children:"Servicio"}),(0,bg.jsx)("th",{children:"Descripci\xf3n"}),(0,bg.jsx)("th",{children:"\xc1rea"}),(0,bg.jsx)("th",{children:"Fecha"}),(0,bg.jsx)("th",{children:"Acciones"})]})}),(0,bg.jsx)("tbody",{children:t.map((e=>(0,bg.jsx)(Pg,{request:e,setDataToUpdate:n,deleteData:r,setQuestion:l,openModal:s,closeModal:a},e.id)))})]})})]}),(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)("h3",{children:"Informaci\xf3n de servicios"}),u]})},Ug=e=>{let{user:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[,u,c]=Og(!1),[h,d]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{d(!0);try{const e=await function(e){e=Em(e,Tm);const t=Em(e.firestore,xm),n=Am(t),r=new fg(t);return cg(e._query),mm(n,e._query).then((n=>new lg(t,r,e,n)))}(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_e(e),vm("collection","path",t),e instanceof Sm){const n=Mu.fromString(t,...r);return bm(n),new Im(e,null,n)}{if(!(e instanceof _m||e instanceof Im))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mu.fromString(t,...r));return bm(n),new Im(e.firestore,null,n)}}(vg,t.email)),n=e.docs.map((e=>({id:e.id,...e.data()})));r(n)}catch(e){console.error(e)}finally{d(!1)}})()}),[t.email]);return(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h2",{children:"Gestionar Solicitudes"}),s&&(0,bg.jsx)(_g,{setMessage:a,...s}),h?(0,bg.jsx)(wg,{}):(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)(Mg,{data:n,setDataToUpdate:l,deleteData:async e=>{try{await function(e){return mg(Em(e.firestore,xm),[new Fh(e._key,Th.none())])}(Cm(vg,t.email,e));let i=n.filter((t=>t.id!==e));r(i),a({type:"info",msg:"Datos eliminados satisfactoriamente"})}catch(i){a({type:"success",msg:"Ocurri\xf3 un error al intentar eliminar los datos"})}}}),(0,bg.jsx)("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#form-modal",onClick:()=>{null!=o&&l(null),u()},children:"Agregar nueva solicitud"}),(0,bg.jsx)(Sg,{title:o?"Editar Solicitud":"Agregar Solicitud",closeModal:c,children:(0,bg.jsx)(Dg,{data:o,setData:l,insertRequest:async e=>{try{const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")}(4);await pg(Cm(vg,t.email,i),e),r([...n,{id:i,...e}]),a({type:"success",msg:"Datos insertados satisfactoriamente"})}catch(i){a({type:"danger",msg:"Ocurri\xf3 un error al ingresar los datos"})}},updateRequest:async e=>{try{const i=Cm(vg,t.email,e.id);await function(e,t,n){e=Em(e,_m);const r=Em(e.firestore,xm),i=Bm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=_e(t))||t instanceof Dm?Wm(i,"updateDoc",e._key,t,n,o):Km(i,"updateDoc",e._key,t),mg(r,[s.toMutation(e._key,Th.exists(!0))])}(i,{category:e.category,service_type:e.service_type,description:e.description,location:e.location,date:e.date});let s=n.map((t=>t.id===e.id?e:t));r(s),a({type:"success",msg:"Datos actualizados satisfactoriamente"})}catch(i){a({type:"danger",msg:"Ocurri\xf3 un error al actualizar los datos"})}},closeModal:c})})]})]})},Fg=n.p+"static/media/manteinance_electrical.af62a1c2940ff4b030bb.jpg",jg=n.p+"static/media/manteinance_ac.dd22c530c30d591472ae.png",Vg=n.p+"static/media/general_keepings.26d37ada79d4a3ed5901.jpg",zg=e=>{let{user:t}=e;return(0,bg.jsxs)("div",{className:"App",children:[(0,bg.jsxs)("h2",{children:["Bienvenido",t?", "+t.email:" al sistema"]}),(0,bg.jsx)("div",{className:"row",children:(0,bg.jsxs)("div",{className:"col-12",children:[(0,bg.jsx)("h3",{children:"\xbfQui\xe9nes somos?"}),(0,bg.jsx)("p",{children:"Somos una empresa de desarrollo de software con enfoque en soluciones de alta calidad, accesibles y adecuadas a las necesidades de nuestros clientes."}),(0,bg.jsx)("p",{children:"Creemos en una empresa en la que todos sus trabajadores contribuyen a su crecimiento y posicionamiento, para lo cual dise\xf1amos este sistema integrado de gesti\xf3n de incidentes de la empresa y de sus insumos."})]})}),(0,bg.jsxs)("div",{className:"row",children:[(0,bg.jsx)("h3",{children:"\xbfQu\xe9 se puede hacer con este sistema?"}),(0,bg.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,bg.jsxs)("div",{className:"card h-100",children:[(0,bg.jsx)("img",{src:Fg,alt:"Mantenimiento de inmuebles",className:"card-img-top"}),(0,bg.jsxs)("div",{className:"card-body",children:[(0,bg.jsx)("h4",{className:"card-title",children:"Mantenimiento de Inmuebles"}),(0,bg.jsx)("p",{className:"card-text",children:"\xbfBa\xf1os sucios? \xbfParedes agrietadas? \xbfProblemas de tuber\xedas? Nuestros especialistas est\xe1n atentos a cualquier problem\xe1tica."})]})]})}),(0,bg.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,bg.jsxs)("div",{className:"card h-100",children:[(0,bg.jsx)("img",{src:jg,alt:"",className:"card-img-top"}),(0,bg.jsxs)("div",{className:"card-body",children:[(0,bg.jsx)("h4",{className:"card-title",children:"Mantenimiento de Muebles"}),(0,bg.jsx)("p",{className:"card-text",children:"Las sillas, el aire acondicionado y otros insumos de la empresa deben estar en perfectas condiciones. Puede reportar todo tipo de incidentes relacionados. Nosotros lo cubrimos."})]})]})}),(0,bg.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,bg.jsxs)("div",{className:"card h-100",children:[(0,bg.jsx)("img",{src:Vg,alt:"",className:"card-img-top"}),(0,bg.jsxs)("div",{className:"card-body",children:[(0,bg.jsx)("h4",{className:"card-title",children:"Mantenimiento de Inmuebles"}),(0,bg.jsx)("p",{className:"card-text",children:"\xbfSituaci\xf3n de seguridad complicada en su casa? Puede contar con excelentes conductores. Tambi\xe9n puede solicitar aseo genera en su zona de trabajo."})]})]})})]})]})},Bg={email:"",password:""};const qg=function(e){let{setRegisterMode:t,signIn:n,setMessage:r}=e;const[s,a]=(0,i.useState)(Bg),o=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)("h3",{children:"Iniciar Sesi\xf3n"}),(0,bg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.target.checkValidity()?(r(null),n(s.email,s.password),a(Bg)):r({type:"danger",msg:"Campos requeridos"})},noValidate:!0,children:[(0,bg.jsx)(Ig,{type:"email",name:"email",value:s.email,placeholder:"Ingrese su correo",handleChange:o,constraints:{pattern:"[a-zA-Z0-9!#$%&'*_+-]([.]?[a-zA-Z0-9!#$%&'*_+-])+@[a-zA-Z0-9]([^@&%$/()=?\xbf!.,:;]|d)+[a-zA-Z0-9][.][a-zA-Z]{2,4}([.][a-zA-Z]{2})?",required:!0}}),(0,bg.jsx)(Ig,{type:"password",name:"password",value:s.password,placeholder:"Ingrese su contrase\xf1a",handleChange:o,constraints:{required:!0}}),(0,bg.jsxs)("div",{className:"d-grid gap-2",children:[(0,bg.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Ingresar"}),(0,bg.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(!0),children:"\xbfNo tienes usuario?"})]})]})]})},Hg={email:"",password:""};const Kg=function(e){let{setRegisterMode:t,signUp:n,setMessage:r}=e;const[s,a]=(0,i.useState)(Hg),o=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)("h3",{children:"Registrar"}),(0,bg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.target.checkValidity()?(r(null),n(s.email,s.password),a(Hg)):r({type:"danger",msg:"Campos requeridos"})},noValidate:!0,children:[(0,bg.jsx)(Ig,{type:"email",name:"email",placeholder:"Ingrese su correo",value:s.email,handleChange:o,constraints:{pattern:"[a-zA-Z0-9!#$%&'*_+-]([.]?[a-zA-Z0-9!#$%&'*_+-])+@[a-zA-Z0-9]([^@&%$/()=?\xbf!.,:;]|d)+[a-zA-Z0-9][.][a-zA-Z]{2,4}([.][a-zA-Z]{2})?",required:!0}}),(0,bg.jsx)(Ig,{type:"password",name:"password",placeholder:"Ingrese su contrase\xf1a",value:s.password,handleChange:o,constraints:{minLength:6,required:!0}}),(0,bg.jsxs)("div",{className:"d-grid gap-2",children:[(0,bg.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Registrarse"}),(0,bg.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(!1),children:"\xbfTienes Usuario?"})]})]})]})},Wg=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!1),o=V();return(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h2",{children:"Ingreso al sistema"}),n&&(0,bg.jsx)(_g,{setMessage:r,...n}),e?(0,bg.jsx)(Kg,{setRegisterMode:t,signUp:async(e,t)=>{try{a(!0);const n=await Cr(yg,e,t);await pg(Cm(vg,"users",n.user.email),{email:n.user.email,id:n.user.uid}),o("/service-desk/")}catch(n){"auth/invalid-email"===n.code&&r({type:"danger",message:"El correo especificado no es v\xe1lido"}),"auth/email-already-in-use"===n.code&&r({type:"danger",msg:"El usuario ya existe"})}finally{a(!1)}},setMessage:r}):(0,bg.jsx)(qg,{setRegisterMode:t,signIn:async(e,t)=>{try{a(!0),await function(e,t,n){return Ir(_e(e),hr.credential(t,n))}(yg,e,t),o("/service-desk/")}catch(n){"auth/user-not-found"!==n.code&&"auth/wrong-password"!==n.code||r({type:"danger",msg:"Credenciales incorrectas"})}finally{a(!1)}},setMessage:r}),s&&(0,bg.jsx)(wg,{})]})},Gg=e=>{let{firebaseUser:t,setFirebaseUser:n}=e;const r=V(),i=async()=>{await function(e){return _e(e).signOut()}(yg),n(null),r("login")};return(0,bg.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:(0,bg.jsxs)("div",{className:"container-fluid",children:[(0,bg.jsx)(te,{to:"/service-desk/",className:"navbar-brand",children:"Mesa de Servicio"}),(0,bg.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,bg.jsx)("span",{className:"navbar-toggler-icon"})}),(0,bg.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,bg.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,bg.jsx)("li",{className:"nav-item",children:(0,bg.jsx)(ne,{to:"/service-desk/",className:e=>{let{isActive:t}=e;return"nav-link".concat(t?" active":"")},children:"Inicio"})}),null!=t?(0,bg.jsx)("li",{className:"nav-item",children:(0,bg.jsx)(ne,{to:"request",className:e=>{let{isActive:t}=e;return"nav-link".concat(t?" active":"")},children:"Solicitudes"})}):null,(0,bg.jsx)("li",{children:null!==t?(0,bg.jsx)(ne,{to:"logout",className:e=>{let{isActive:t}=e;return"nav-link".concat(t?" active":"")},onClick:e=>{e.preventDefault(),i()},children:"Cerrar sesi\xf3n"}):(0,bg.jsx)(ne,{to:"login",className:e=>{let{isActive:t}=e;return"nav-link".concat(t?" active":"")},children:"Login"})})]})})]})})},Qg=e=>{let{firebaseUser:t,setFirebaseUser:n}=e;return(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)(Gg,{firebaseUser:t,setFirebaseUser:n}),(0,bg.jsx)("div",{className:"container p-3",children:(0,bg.jsx)(K,{})})]})};const $g=function(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{!function(e,t,n,r){_e(e).onAuthStateChanged(t,n,r)}(yg,(e=>{t(e||null)}))}),[]),!1!==e?(0,bg.jsx)(ee,{children:(0,bg.jsx)(Q,{children:(0,bg.jsxs)(W,{path:"/service-desk",element:(0,bg.jsx)(Qg,{firebaseUser:e,setFirebaseUser:t}),children:[(0,bg.jsx)(W,{index:!0,element:(0,bg.jsx)(zg,{user:e})}),(0,bg.jsx)(W,{path:"login",element:(0,bg.jsx)(Wg,{})}),(0,bg.jsx)(W,{path:"request",element:(0,bg.jsx)(Eg,{children:(0,bg.jsx)(Ug,{user:e})})})]})})}):(0,bg.jsx)(wg,{})};s.createRoot(document.getElementById("root")).render((0,bg.jsx)(i.StrictMode,{children:(0,bg.jsx)($g,{})}))})();
//# sourceMappingURL=main.20a88e5c.js.map